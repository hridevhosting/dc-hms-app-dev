import{a as Ae,b as X}from"./chunk-JBPQ336E.js";import{a as Oe,b as Y}from"./chunk-ADFDU3MO.js";import{a as ke}from"./chunk-UCMVIMLK.js";import{a as J}from"./chunk-W4KZZ4KH.js";import"./chunk-NV6ISGAZ.js";import"./chunk-MQU4ZFJX.js";import{a as Be}from"./chunk-P7HVST77.js";import{a as Fe}from"./chunk-BYYSXB2N.js";import"./chunk-XFGMMR5A.js";import{A as H,B as Le,C as Me,H as Ee,I as Ie,J as Te,K as Ve,a as ye,c as Ce,s as Se,t as Pe,v as j,x as be,z as De}from"./chunk-A34WLQ27.js";import{b as _e,d as ue,e as he,g as fe,h as we,i as xe,l as ve}from"./chunk-OCIRHO6A.js";import{a as B,b as O,c as N}from"./chunk-5JUHOLWQ.js";import{g as ge}from"./chunk-3RSPD7AX.js";import{m as le,n as se,q as pe,r as de,t as me,z as ce}from"./chunk-N4ANQEKW.js";import{Ab as ie,Db as u,Eb as m,Hb as F,Ia as z,Ib as Q,Lb as ne,Ma as l,Mb as ae,Na as D,Nb as oe,Ob as R,Pb as a,Q as K,Qb as w,Rb as b,Sb as G,Ub as v,V as q,Vb as y,Wb as C,Xb as re,Ya as $,Yb as E,Zb as W,_a as ee,ca as p,cb as x,da as d,fc as P,gc as L,hc as V,nb as g,oa as Z,qb as M,rb as U,sb as te,tb as i,ub as n,vb as h,wb as I,xb as T,zb as S}from"./chunk-ZPID5U3R.js";var We=(()=>{class r{constructor(e){this._el=e,this._value=""}checkStatus(e){console.log("Status Check"),console.log(this._value),console.log(this._el)}static{this.\u0275fac=function(o){return new(o||r)(D(Z))}}static{this.\u0275dir=ee({type:r,selectors:[["","appPendingDoneStatus",""]],hostVars:1,hostBindings:function(o,t){o&2&&ie("statusCheck",t.checkStatus)},inputs:{_value:"_value"}})}}return r})();var Ne=(()=>{class r{constructor(e,o){this._httpClient=e,this._commonServices=o}getAppointmentPaitentListForOPD(e,o){let t=`
     select A.AppointmentId , e.EntityId , e.EntityName as PatientName, A.CreatedAt , e.RegNo, a.Treatment,
     dbo.NikDefault_ApptAllReceipts(a.appointmentid,'OPD') as Receipt, a.Arrived, a.StartDateTime, a.EndDateTime, a.IsRecurring,
     a.Description, a.Location, a.BookedFor, a.Treatment, a.WhichOpd, a.RegNo as OPDNo, a.ReferredBy,
     e.Primaryfld2, isnull(LeftHosp,0)as LeftHosp, A.Active from tblappointment A,
     tblEntity E where A.IsRecurring = 0 and A.Active = 1 and E.Active = 1 and E.entityId = A.EntityId and
     WhichOPD is not null  and CAST(StartDatetime as date) between '${e}' and '${o}'
     order by LeftHosp asc, appointmentid asc;
      `,s=this._commonServices.generateApiRequestParam(O.sqlFunNameList.select,null,t);return this._httpClient.post(O.apiUrl+O.sqlController,s)}leftPatient(e,o,t){let s=`update tblAppointment set LeftHosp = ${t}, LeftAt = ${t?"'"+this._commonServices.trasformDateTimeByFormat()+"'":null} where AppointmentId = ${e} and EntityId = ${o};`,f=this._commonServices.generateApiRequestParam(O.sqlFunNameList.select,null,s);return this._httpClient.post(O.apiUrl+O.sqlController,f)}getBlankOpdCardData(e){return this._httpClient.get("/assets/Templates/OPD/BlankOpdCard.html")}static{this.\u0275fac=function(o){return new(o||r)(q(ce),q(N))}}static{this.\u0275prov=K({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var je=()=>({width:"auto"}),He=()=>({"1199px":"75vw","575px":"90vw"}),qe=()=>({width:"25rem"}),Ye=()=>({width:"70rem"}),Je=r=>({width:r}),Xe=()=>({"min-width":"50rem"}),Ke=r=>({"background-color":r,color:"white"}),Ze=r=>({"overflow-y":"auto","overflow-x":"hidden","max-height":r});function ze(r,_){if(r&1){let e=S();i(0,"strong",91),u("click",function(){p(e);let t=m(2);return d(t.selectedFilterType="")}),i(1,"u"),a(2,"Clear"),n()()}}function $e(r,_){if(r&1){let e=S();i(0,"strong",91),u("click",function(){p(e);let t=m(3);return d(t.selectedSubFilterValue="")}),i(1,"u"),a(2,"Clear"),n()()}}function et(r,_){if(r&1&&(i(0,"option",93),a(1),P(2,"uppercase"),n()),r&2){let e=_.$implicit;F("value",e),l(),w(L(2,2,e))}}function tt(r,_){if(r&1){let e=S();i(0,"div",19)(1,"div",63)(2,"h5",60),a(3,"Consultant"),n(),x(4,$e,3,0,"strong",64),n(),i(5,"select",65),C("ngModelChange",function(t){p(e);let s=m(2);return y(s.selectedSubFilterValue,t)||(s.selectedSubFilterValue=t),d(t)}),u("change",function(){p(e);let t=m(2);return d(t.isFilterPatient=!0)}),i(6,"option",66),a(7,"Select filter"),n(),x(8,et,3,4,"option",92),n()()}if(r&2){let e=m(2);l(4),g("ngIf",e.selectedSubFilterValue.length),l(),v("ngModel",e.selectedSubFilterValue),l(3),g("ngForOf",e.opdPatientListConsultantList)}}function it(r,_){if(r&1){let e=S();i(0,"strong",91),u("click",function(){p(e);let t=m(3);return d(t.selectedSubFilterValue="")}),i(1,"u"),a(2,"Clear"),n()()}}function nt(r,_){if(r&1&&(i(0,"option",93),a(1),P(2,"uppercase"),n()),r&2){let e=_.$implicit;F("value",e),l(),b("",L(2,2,e)," ")}}function at(r,_){if(r&1){let e=S();i(0,"div",19)(1,"div",63)(2,"h5",60),a(3,"Ref. Doctor"),n(),x(4,it,3,0,"strong",64),n(),i(5,"select",65),C("ngModelChange",function(t){p(e);let s=m(2);return y(s.selectedSubFilterValue,t)||(s.selectedSubFilterValue=t),d(t)}),u("change",function(){p(e);let t=m(2);return d(t.isFilterPatient=!0)}),i(6,"option",66),a(7,"Select filter"),n(),x(8,nt,3,4,"option",92),n()()}if(r&2){let e=m(2);l(4),g("ngIf",e.selectedSubFilterValue.length),l(),v("ngModel",e.selectedSubFilterValue),l(3),g("ngForOf",e.opdPatientListReferredConsultantList)}}function ot(r,_){if(r&1){let e=S();i(0,"strong",91),u("click",function(){p(e);let t=m(3);return d(t.selectedSubFilterValue="")}),i(1,"u"),a(2,"Clear"),n()()}}function rt(r,_){if(r&1&&(i(0,"option",93),a(1),P(2,"uppercase"),n()),r&2){let e=_.$implicit;F("value",e),l(),b("",L(2,2,e)," ")}}function lt(r,_){if(r&1){let e=S();i(0,"div",19)(1,"div",63)(2,"h5",60),a(3,"Reason"),n(),x(4,ot,3,0,"strong",64),n(),i(5,"select",65),C("ngModelChange",function(t){p(e);let s=m(2);return y(s.selectedSubFilterValue,t)||(s.selectedSubFilterValue=t),d(t)}),u("change",function(){p(e);let t=m(2);return d(t.isFilterPatient=!0)}),i(6,"option",66),a(7,"Select filter"),n(),x(8,rt,3,4,"option",92),n()()}if(r&2){let e=m(2);l(4),g("ngIf",e.selectedSubFilterValue.length),l(),v("ngModel",e.selectedSubFilterValue),l(3),g("ngForOf",e.opdPatientListAppointmentReasonList)}}function st(r,_){if(r&1){let e=S();i(0,"h4",94),u("click",function(){p(e);let t=m(2);return d(t.resetFilter())}),a(1," Clear Filter! "),n()}}function pt(r,_){if(r&1){let e=S();i(0,"button",95),u("click",function(){p(e);let t=m(2);return t.searchPatienName="",d(t.filterPatientByFilterTypeFilterSubType(t.isFilterPatient))}),h(1,"i",96),n()}}function dt(r,_){if(r&1&&(I(0),i(1,"small",101)(2,"strong"),a(3),P(4,"uppercase"),n()(),T()),r&2){let e=m().$implicit;l(3),G("",L(4,2,e.RegNo)," | [ID: ",e.EntityId,"]")}}function mt(r,_){if(r&1&&(I(0),i(1,"small",101)(2,"strong"),a(3),n()(),T()),r&2){let e=m().$implicit;l(3),b("No ID | [ID: ",e.EntityId,"]")}}function ct(r,_){if(r&1){let e=S();i(0,"li",99),u("click",function(){let t=p(e).$implicit,s=m(3);return d(s.setAndSearchPatientDetailByPatientName(t.EntityName))}),i(1,"div",51)(2,"strong",60),a(3),P(4,"uppercase"),n(),i(5,"i",100),x(6,dt,5,4,"ng-container",4)(7,mt,4,1,"ng-container",4),n()()()}if(r&2){let e=_.$implicit;l(3),w(L(4,3,e.EntityName)),l(3),g("ngIf",e.RegNo),l(),g("ngIf",!e.RegNo)}}function gt(r,_){if(r&1&&(I(0),i(1,"ul",97),x(2,ct,8,5,"li",98),n(),T()),r&2){let e=m(2);l(2),g("ngForOf",e.searchedPatientList)}}function _t(r,_){r&1&&(i(0,"tr",102)(1,"th"),a(2,"#"),n(),i(3,"th"),a(4,"Patient Name"),n(),i(5,"th",103),a(6,"Reason"),n(),i(7,"th",103),a(8,"Gender"),n(),i(9,"th")(10,"div",51)(11,"label",104),a(12,"Appointment Date"),n(),i(13,"small"),a(14,"(dd/mm/yy)"),n()()(),i(15,"th"),a(16,"Consultor"),n(),i(17,"th",103),a(18,"Status"),n(),i(19,"th",103),a(20,"Ref. By"),n(),i(21,"th"),a(22,"Rating"),n(),i(23,"th"),a(24,"Info"),n()())}function ut(r,_){if(r&1){let e=S();i(0,"tr")(1,"td"),a(2),n(),i(3,"td",91),u("click",function(t){let s=p(e).$implicit,f=m(2);return R(45).toggle(t),d(f.setDetailsOfOpdPatient(s))}),a(4),n(),i(5,"td",103),a(6),n(),i(7,"td",105)(8,"span",106),a(9),h(10,"i"),n()(),i(11,"td"),a(12),P(13,"date"),n(),i(14,"td",107),a(15),n(),i(16,"td",108)(17,"span",109),a(18),n()(),i(19,"td",110),a(20),n(),i(21,"td"),h(22,"p-rating",111),n(),i(23,"td")(24,"img",112),u("click",function(){let t=p(e).$implicit,s=m(2);return s.showMoreDetails(t),d(s.selectedIpdDetails=t)}),n()()()}if(r&2){let e=_.$implicit,o=_.rowIndex;l(2),w(o+1),l(2),w(e.PatientName),l(2),w(e.Treatment===e.Treatment1?e.Treatment:e.Treatment1),l(2),M(W(19,Ke,e.Primaryfld2.toLowerCase()=="male"?"#03AED2":"#FF76CE")),l(),b(" ",e.Primaryfld2," "),l(),te("bi ",e.Primaryfld2.toLowerCase()=="male"?"bi-gender-male":"bi-gender-female",""),l(2),w(V(13,16,e.StartDateTime,"dd/MM/yy hh:mm a")),l(3),w(e.BookedFor),l(2),M(e.LeftHosp?"background-color: #88D66C":"background-color: #F6FB7A"),l(),b(" ",e.LeftHosp?"Done":"Waiting"," "),l(2),w(e.ReferredBy||""),l(2),g("readonly",!1)}}function ht(r,_){if(r&1){let e=S();I(0),i(1,"div",56)(2,"div",57)(3,"div",31)(4,"div",58),h(5,"img",59),i(6,"h3",60),a(7,"OPD"),n()(),i(8,"div",19)(9,"h5",60),a(10,"From Date"),n(),i(11,"input",61),C("ngModelChange",function(t){p(e);let s=m();return y(s.fromDate,t)||(s.fromDate=t),d(t)}),u("change",function(){p(e);let t=m();return d(t.isFilterPatient=!0)})("mouseenter",function(){p(e);let t=m();return d(t.isFilterPatient=!0)})("mouseleave",function(){p(e);let t=m();return t.isFilterPatient=!1,d(t.loadAppointmentPatientList())}),n()(),i(12,"div",19)(13,"h5",60),a(14,"To Date"),n(),i(15,"input",62),C("ngModelChange",function(t){p(e);let s=m();return y(s.toDate,t)||(s.toDate=t),d(t)}),u("change",function(){p(e);let t=m();return d(t.isFilterPatient=!0)}),n()(),i(16,"div",19)(17,"div",63)(18,"h5",60),a(19,"Filter Type"),n(),x(20,ze,3,0,"strong",64),n(),i(21,"select",65),C("ngModelChange",function(t){p(e);let s=m();return y(s.selectedFilterType,t)||(s.selectedFilterType=t),d(t)}),u("change",function(){p(e);let t=m();return d(t.isFilterPatient=!0)}),i(22,"option",66),a(23,"Select filter"),n(),i(24,"option",67),a(25,"Consultant"),n(),i(26,"option",68),a(27,"Referred Consultant"),n(),i(28,"option",69),a(29,"Appointment Reason"),n()()(),x(30,tt,9,3,"div",70)(31,at,9,3,"div",70)(32,lt,9,3,"div",70),i(33,"button",71),u("click",function(){p(e);let t=m();return d(t.searchPatientListWithFilterSettings())}),i(34,"strong"),a(35,"Search"),n()()()(),i(36,"div",72)(37,"div",31)(38,"div",73)(39,"div",74)(40,"h4",75),a(41," Total Patient : "),i(42,"i"),a(43),n()(),i(44,"h4",76),a(45," Waiting : "),i(46,"i"),a(47),n()(),i(48,"h4",77),a(49," Left : "),i(50,"i"),a(51),n()()(),i(52,"h4",78),u("click",function(){p(e);let t=m();return d(t.refreshing())}),h(53,"i"),a(54),n(),x(55,st,2,0,"h4",79),i(56,"p-selectButton",80),C("ngModelChange",function(t){p(e);let s=m();return y(s.value,t)||(s.value=t),d(t)}),n(),i(57,"div",81)(58,"input",82),C("ngModelChange",function(t){p(e);let s=m();return y(s.searchPatienName,t)||(s.searchPatienName=t),d(t)}),u("keyup",function(){p(e);let t=m();return t.loadPatientList(t.searchPatienName),d(t.isFilterPatient=!0)}),n(),x(59,pt,2,0,"button",83)(60,gt,3,1,"ng-container",4),n(),i(61,"div",84)(62,"button",85),h(63,"i",86),n()()(),i(64,"div",87)(65,"p-table",88),x(66,_t,25,0,"ng-template",89)(67,ut,25,21,"ng-template",90),n()()()()(),T()}if(r&2){let e=m();l(11),v("ngModel",e.fromDate),l(4),v("ngModel",e.toDate),l(5),g("ngIf",e.selectedFilterType.length),l(),v("ngModel",e.selectedFilterType),l(9),g("ngIf",e.selectedFilterType.toLowerCase()==="bookedfor"),l(),g("ngIf",e.selectedFilterType.toLowerCase()==="referred consultant"),l(),g("ngIf",e.selectedFilterType.toLowerCase()==="treatment"),l(11),w(e.filteredPatientList.length),l(4),w(e.countWaitingDonePatient("waiting")),l(4),w(e.countWaitingDonePatient("done")),l(2),U(e.isRefreshing?"spinner-grow spinner-grow-sm":"bi bi-arrow-repeat"),l(),b(" ",e.isRefreshing?"Refreshing":"Refresh"," "),l(),g("ngIf",e.selectedFilterType&&e.selectedSubFilterValue||e.isFilterPatient),l(),g("options",e.stateOptions),v("ngModel",e.value),l(2),v("ngModel",e.searchPatienName),l(),g("ngIf",e.searchPatienName.length>0),l(),g("ngIf",e.searchedPatientList.length&&e.searchPatienName.length),l(5),g("value",e.filteredPatientList)("tableStyle",E(22,Xe))}}function ft(r,_){if(r&1){let e=S();i(0,"button",128),u("click",function(){p(e);let t=m(2);return d(t.resetFilter())}),i(1,"div",129),h(2,"img",130),i(3,"strong"),a(4,"Reset"),n()()()}}function wt(r,_){if(r&1){let e=S();i(0,"div",131),u("click",function(t){let s=p(e).$implicit;m();let f=R(15),c=m();return f.toggle(t),d(c.setDetailsOfOpdPatient(s))}),i(1,"div",51)(2,"div",132),h(3,"img",133),i(4,"h5",60)(5,"strong"),a(6),n()()(),i(7,"div",134)(8,"strong"),a(9,"OPD No:"),i(10,"i")(11,"span",135),a(12),n()()()(),i(13,"div",136)(14,"div",134)(15,"small",137)(16,"strong"),a(17,"UHID No:"),i(18,"i")(19,"span",138),a(20),n()()()()()(),i(21,"div",139),h(22,"img",140),i(23,"small",137)(24,"strong")(25,"span"),a(26),P(27,"date"),n()()()(),i(28,"div",136)(29,"div",139),h(30,"img",141),i(31,"small",137)(32,"strong")(33,"span"),a(34),n()()()()(),i(35,"div",139),h(36,"img",142),i(37,"small",137)(38,"strong")(39,"span"),a(40),n()()()(),i(41,"div",139),h(42,"img",143),i(43,"small")(44,"strong")(45,"span"),a(46),n()()()()()()}if(r&2){let e=_.$implicit,o=m(2);l(6),w(e.PatientName),l(6),b(" ",e.OPDNo,""),l(8),b(" ",e.RegNo,""),l(6),w(V(27,7,e.CreatedAt,"dd/MM/yy h:mm a")),l(8),w(e.BookedFor),l(6),w(e.Treatment),l(6),w(o.wrapupExtraProcedureText(e.ReferredBy)||"No Referral Detail")}}function xt(r,_){if(r&1){let e=S();I(0),i(1,"div",6)(2,"div",113)(3,"div",114)(4,"div",115),h(5,"img",116),i(6,"h4",60),a(7),n()(),x(8,ft,5,0,"button",117),i(9,"p-selectButton",118),C("ngModelChange",function(t){p(e);let s=m();return y(s.statusValue,t)||(s.statusValue=t),d(t)}),u("onChange",function(){p(e);let t=m();return d(t.sortPatientByConsultant())}),n()()(),i(10,"div",113)(11,"div",119)(12,"div",120),x(13,wt,47,10,"div",121),n()(),i(14,"p-overlayPanel",null,0)(16,"div",122)(17,"button",123),u("click",function(){p(e);let t=m();return t.moreDetails=!t.moreDetails,d(t.loadPatientDetailByPatientId())}),i(18,"strong",33),h(19,"img",26),a(20," Details "),n()(),i(21,"button",123),u("click",function(){p(e);let t=m();return d(t.showBillDialoge())}),i(22,"strong",33),h(23,"img",27),a(24," Bills "),n()(),i(25,"button",123),u("click",function(){p(e);let t=m();return d(t.showPathBillDialoge())}),i(26,"strong",33),h(27,"img",28),a(28," Path Bills "),n()(),i(29,"button",123),u("click",function(){p(e);let t=m();return t.showPathReportListDateWise=!t.showPathReportListDateWise,t.loadPatReportListByPatientIdPathId(),d(t.loadPathReportListByPathIdAndPatientIdDate())}),i(30,"strong",33),h(31,"img",28),a(32," Path Test Summary "),n()(),i(33,"button",123),u("click",function(){p(e);let t=m();return d(t.navigateToOpdCard())}),i(34,"strong",33),h(35,"img",30),a(36," OPD Card "),n()(),i(37,"button",123),u("click",function(t){p(e);let s=m();return d(s.leftPatientPopUp(t))}),i(38,"strong",33),h(39,"img",124),a(40," Left "),n()()()()()(),i(41,"div",125),u("click",function(){p(e);let t=m();return d(t.visibleFilterDialog=!t.visibleFilterDialog)}),i(42,"div",126),h(43,"img",127),n()(),T()}if(r&2){let e=m();l(7),b("OPD (",e.filteredPatientList.length,")"),l(),g("ngIf",e.selectedFilterType&&e.selectedSubFilterType),l(),g("options",e.stateOptions),v("ngModel",e.statusValue),l(3),M(W(7,Ze,e.screenHeight-100+"px")),l(),g("ngForOf",e.filteredPatientList)}}function vt(r,_){r&1&&(i(0,"div",16)(1,"div",6)(2,"div",18)(3,"div",19)(4,"small")(5,"strong"),a(6,"From"),n()(),h(7,"input",20),n()(),i(8,"div",18)(9,"div",19)(10,"small")(11,"strong"),a(12,"To"),n()(),h(13,"input",20),n()()()())}function yt(r,_){if(r&1&&(i(0,"option",93),a(1),n()),r&2){let e=_.$implicit;F("value",e),l(),w(e)}}function Ct(r,_){if(r&1&&(i(0,"option",93),a(1),n()),r&2){let e=_.$implicit;F("value",e),l(),w(e)}}function St(r,_){if(r&1){let e=S();i(0,"div",18)(1,"div",19)(2,"small")(3,"strong"),a(4,"Filter List"),n()(),i(5,"select",42),C("ngModelChange",function(t){p(e);let s=m(2);return y(s.selectedSubFilterType,t)||(s.selectedSubFilterType=t),d(t)}),i(6,"option",66),a(7,"Select Option"),n(),x(8,Ct,2,2,"option",92),n()()()}if(r&2){let e=m(2);l(5),v("ngModel",e.selectedSubFilterType),l(3),g("ngForOf",e.filterTypeList)}}function Pt(r,_){if(r&1){let e=S();i(0,"div",16)(1,"div",6)(2,"div")(3,"div",19)(4,"small")(5,"strong"),a(6,"Filter Type"),n()(),i(7,"select",144,3),C("ngModelChange",function(t){p(e);let s=m();return y(s.selectedFilterType,t)||(s.selectedFilterType=t),d(t)}),u("change",function(){p(e);let t=R(8),s=m();return d(s.setFilterListByFilterType(t.value))}),i(9,"option",66),a(10,"Select Option"),n(),x(11,yt,2,2,"option",92),n()()(),x(12,St,9,2,"div",145),i(13,"div",113)(14,"div",146)(15,"button",55),u("click",function(){p(e);let t=m();return d(t.sortPatientByConsultant())}),a(16,"Filter Data"),n()()()()()}if(r&2){let e=m();l(2),U(e.filterTypeList.length?"col-6":"col-12"),l(5),v("ngModel",e.selectedFilterType),l(4),g("ngForOf",e.filterType),l(),g("ngIf",e.filterTypeList.length)}}function bt(r,_){if(r&1&&(i(0,"div",6)(1,"div",113)(2,"div",147)(3,"small")(4,"strong"),a(5,"Patient Name"),n(),a(6),n(),i(7,"strong"),a(8),n()()(),i(9,"div",113)(10,"div",147)(11,"small")(12,"strong"),a(13,"UHID No"),n()(),i(14,"strong"),a(15),n()()(),i(16,"div",113)(17,"div",147)(18,"small")(19,"strong"),a(20,"Gender"),n()(),i(21,"strong"),a(22),n()()(),i(23,"div",113)(24,"div",147)(25,"small")(26,"strong"),a(27,"DOB"),n()(),i(28,"strong"),a(29),n()()(),i(30,"div",113)(31,"div",147)(32,"small")(33,"strong"),a(34,"Age"),n()(),i(35,"strong"),a(36),n()()(),i(37,"div",113)(38,"div",147)(39,"small")(40,"strong"),a(41,"Contact No"),n()(),i(42,"strong")(43,"a",148),a(44),n()()()(),i(45,"div",113)(46,"div",147)(47,"small")(48,"strong"),a(49,"Category"),n()(),i(50,"strong"),a(51),n()()(),i(52,"div",113)(53,"div",147)(54,"small")(55,"strong"),a(56,"Marrital Status"),n()(),i(57,"strong"),a(58),n()()(),i(59,"div",113)(60,"div",147)(61,"small")(62,"strong"),a(63,"Payer"),n()(),i(64,"strong"),a(65),n()()()()),r&2){let e=m();l(6),b(" (",e.patientDetails.EntityId,")"),l(2),G("",e.patientDetails.Salutation," ",e.patientDetails.EntityName,""),l(7),w(e.patientDetails.RegNo),l(7),w(e.patientDetails.PrimaryFld2),l(7),w(e.patientDetails.PrimaryFld3),l(7),w(e.patientDetails.PrimaryId1),l(7),Q("href","tel:",e.patientDetails.PrimaryFld1,"",z),l(),w(e.patientDetails.PrimaryFld1),l(7),w(e.patientDetails.ExternalCategory?e.patientDetails.ExternalCategory:""),l(7),w(e.patientDetails.MaritalStatus?e.patientDetails.MaritalStatus:""),l(7),w(e.patientDetails.Payer?e.patientDetails.Payer:"")}}function Dt(r,_){if(r&1&&(i(0,"div",113)(1,"div",155)(2,"div",51)(3,"div",63)(4,"strong")(5,"small"),a(6,"Date: "),i(7,"i"),a(8),P(9,"date"),n()()(),i(10,"strong")(11,"small",49),a(12),P(13,"uppercase"),n()()(),i(14,"div",74)(15,"strong")(16,"small")(17,"label",104),a(18,"Doctor: "),n()()(),i(19,"strong")(20,"small"),a(21),P(22,"uppercase"),n()()(),i(23,"div",74)(24,"strong")(25,"small"),a(26,"Referred By: "),n()(),i(27,"strong")(28,"small"),a(29),P(30,"uppercase"),n()()(),i(31,"div",74)(32,"strong")(33,"small"),a(34,"Reason: "),n()(),i(35,"strong")(36,"small")(37,"i",49),a(38),n()()()()()()()),r&2){let e=_.$implicit;l(8),w(V(9,5,e.SendAt,"dd/MM/yyyy")),l(4),w(L(13,8,e.WhichOPD)),l(9),w(L(22,10,e.BookedFor)),l(8),w(L(30,12,e.ReferredBy)),l(9),w(e.Treatment)}}function Lt(r,_){if(r&1&&(i(0,"div",6),x(1,Dt,39,14,"div",154),n()),r&2){let e=m(2);l(),g("ngForOf",e.previousAppointmentList)}}function Mt(r,_){if(r&1&&(i(0,"p-tabView")(1,"p-tabPanel",149),h(2,"app-patient-details",150),n(),i(3,"p-tabPanel",151),h(4,"app-patient-appointment",152),n(),i(5,"p-tabPanel",153),x(6,Lt,2,1,"div",22),n()()),r&2){let e=m();l(2),g("patientId",e.selectedIpdDetails.EntityId),l(2),g("patientId",e.selectedIpdDetails.EntityId)("appointmentId",e.selectedIpdDetails.AppointmentId),l(2),g("ngIf",e.selectedIpdDetails)}}function Et(r,_){if(r&1){let e=S();i(0,"div",156)(1,"span"),a(2),n(),i(3,"div",157)(4,"button",55),u("click",function(){p(e);let t=m();return d(t.confirmPopup.accept())}),a(5,"Yes"),n(),i(6,"button",128),u("click",function(){p(e);let t=m();return d(t.confirmPopup.reject())}),a(7,"No"),n()()()}if(r&2){let e=_.$implicit;l(2),w(e.message)}}function It(r,_){if(r&1){let e=S();i(0,"div",159),u("click",function(){let t=p(e).$implicit,s=m(2);return s.pathReportDate=t.date,d(s.rediectToPathManagement(t))}),i(1,"div",160)(2,"strong",161),a(3),n(),i(4,"div",51)(5,"h3",162),a(6),P(7,"date"),n(),i(8,"strong")(9,"i")(10,"small"),a(11),P(12,"uppercase"),n()()()()()()}if(r&2){let e=_.$implicit,o=_.index,t=m(2);l(3),b(" ",o+1," "),l(3),w(V(7,3,e.DoneBy,"dd/MMM/yyyy")),l(5),b(" ",L(12,6,t.selectedIpdDetails.EntityName)," ")}}function Tt(r,_){if(r&1&&(I(0),x(1,It,13,8,"div",158),T()),r&2){let e=m();l(),g("ngForOf",e.pathReportList)}}function Vt(r,_){r&1&&(I(0),i(1,"div",163),h(2,"img",164),n(),T())}var k=class{constructor(){this.date="",this.dataArray=[]}};var di=(()=>{class r{constructor(e,o,t,s,f,c,A,Ue){this._opdServices=e,this._dialogService=o,this._commonService=t,this._router=s,this._confirmationService=f,this._appointmentServices=c,this._patientServices=A,this._pathManagementServices=Ue,this.items=[],this.visibleFilterDialog=!1,this.visibleAdditionalOptionsDialog=!1,this.isCustomDate="false",this.activeIndex=0,this.tabs=[],this.opdAppointmentPatientList=[],this.opdPatientListConsultantList=[],this.opdPatientListReferredConsultantList=[],this.opdPatientListAppointmentReasonList=[],this.screenHeight=0,this.screenWidth=0,this.moreDetails=!1,this.showAppointmentListModal=!1,this.selectedIpdDetails=null,this.filterType=[],this.filterTypeList=[],this.fromDate="",this.toDate="",this.stateOptions=[{label:"All",value:"all"},{label:"Consultant wise",value:"user-wise"}],this.value="user-wise",this.listViewOption=[{label:"Table",value:"table"},{label:"Card",value:"card"}],this.statusValue="waiting",this.listViewValue="table",this.selectedFilterType="",this.selectedSubFilterValue="",this.sortedPatientListByConsultant=[],this.filteredPatientList=[],this.filteredWatingPatientList=[],this.filteredLeftPatientList=[],this.selectedSubFilterType="",this.searchPatienName="",this.isFilterPatient=!1,this.tableIndex=0,this.previousAppointmentList=[],this.moreDetailHeader="",this.isRefreshing=!1,this.patientDetails=null,this.showPathReportListDateWise=!1,this.pathLabId="critizone",this.pathReportList=[],this.pathReportDate="",this.pathReportDateWiseList=[],this.searchedPatientList=[]}ngOnInit(){this._commonService.setHospitalSection("OPD Management"),this.tabs=[{title:"Tab 1",content:"Tab 1 Content"},{title:"Tab 2",content:"Tab 2 Content"},{title:"Tab 3",content:"Tab 3 Content"}],B.hospitalSection="opd",history.state.hospitalSection="opd";let e=new Date;e=this._commonService.trasformDateTimeByFormat()?.split("T")[0],!this.fromDate&&!this.toDate&&(this.fromDate=e,this.toDate=e),this.loadAppointmentPatientList(),this.items=[{label:"File",icon:"pi pi-fw pi-file",items:[{label:"New",icon:"pi pi-fw pi-plus",items:[{label:"Bookmark",icon:"pi pi-fw pi-bookmark"},{label:"Video",icon:"pi pi-fw pi-video"}]},{label:"Delete",icon:"pi pi-fw pi-trash"},{separator:!0},{label:"Export",icon:"pi pi-fw pi-external-link"}]},{label:"Edit",icon:"pi pi-fw pi-pencil",items:[{label:"Left",icon:"pi pi-fw pi-align-left"},{label:"Right",icon:"pi pi-fw pi-align-right"},{label:"Center",icon:"pi pi-fw pi-align-center"},{label:"Justify",icon:"pi pi-fw pi-align-justify"}]},{label:"Users",icon:"pi pi-fw pi-user",items:[{label:"New",icon:"pi pi-fw pi-user-plus"},{label:"Delete",icon:"pi pi-fw pi-user-minus"},{label:"Search",icon:"pi pi-fw pi-users",items:[{label:"Filter",icon:"pi pi-fw pi-filter",items:[{label:"Print",icon:"pi pi-fw pi-print"}]},{icon:"pi pi-fw pi-bars",label:"List"}]}]},{label:"Events",icon:"pi pi-fw pi-calendar",items:[{label:"Edit",icon:"pi pi-fw pi-pencil",items:[{label:"Save",icon:"pi pi-fw pi-calendar-plus"},{label:"Delete",icon:"pi pi-fw pi-calendar-minus"}]},{label:"Archieve",icon:"pi pi-fw pi-calendar-times",items:[{label:"Remove",icon:"pi pi-fw pi-calendar-minus"}]}]},{separator:!0},{label:"Quit",icon:"pi pi-fw pi-power-off"}],this.filterType.push("Procedure"),this.filterType.push("Consultant"),this.screenHeight=B.screenHeight,this.screenWidth=B.screenWidth}loadAppointmentPatientList(e){this.isRefreshing=!0,this._opdServices.getAppointmentPaitentListForOPD(this.fromDate,this.toDate).subscribe(o=>{this.isFilterPatient=e||!1,console.log(o),setTimeout(()=>{this.isFilterPatient||this.loadAppointmentPatientList()},5e3),o.Status.toLowerCase().includes("success")&&o.noofREcords&&(this.opdAppointmentPatientList=[],this.opdAppointmentPatientList=o.dataSet.Table,this.opdAppointmentPatientList.length&&(this.sortPatientByConsultant(),this.sortOpdPatientAppointmentReasonList(),this.sortOpdPatientConsultantList()),console.log(this.opdAppointmentPatientList)),setTimeout(()=>{this.isRefreshing=!1},1e3)},o=>{console.error(o),this.isFilterPatient=e||!1,setTimeout(()=>{this.isRefreshing=!1},1e3)})}searchPatientListWithFilterSettings(){this.loadAppointmentPatientList(!0)}sortOpdPatientAppointmentReasonList(){this.opdPatientListAppointmentReasonList=[],this.opdAppointmentPatientList.forEach(e=>{if(e.Treatment)if(this.opdPatientListAppointmentReasonList.length){let o=!1;this.opdPatientListAppointmentReasonList.forEach(t=>{t.toLowerCase()===e.BookedFor.toLowerCase()&&(o=!0)}),o||this.opdPatientListAppointmentReasonList.push(e.Treatment)}else this.opdPatientListAppointmentReasonList.push(e.Treatment);else this.opdPatientListAppointmentReasonList.push(e.Treatment1)}),console.log(this.opdPatientListAppointmentReasonList)}sortOpdPatientReferredConsultantList(){this.opdPatientListReferredConsultantList=[],this.opdAppointmentPatientList.forEach(e=>{if(e.ReferredBy)if(this.opdPatientListReferredConsultantList.length){let o=!1;this.opdPatientListReferredConsultantList.forEach(t=>{t.toLowerCase()===e.BookedFor.toLowerCase()&&(o=!0)}),o||this.opdPatientListReferredConsultantList.push(e.ReferredBy)}else this.opdPatientListReferredConsultantList.push(e.ReferredBy)}),console.log(this.opdPatientListReferredConsultantList)}sortOpdPatientConsultantList(){this.opdPatientListConsultantList=[],this.opdAppointmentPatientList.forEach(e=>{if(e.BookedFor)if(this.opdPatientListConsultantList.length){let o=!1;this.opdPatientListConsultantList.forEach(t=>{t.toLowerCase()===e.BookedFor.toLowerCase()&&(o=!0)}),o||this.opdPatientListConsultantList.push(e.BookedFor)}else this.opdPatientListConsultantList.push(e.BookedFor)}),this.filterPatientByFilterTypeFilterSubType(),console.log(this.opdPatientListConsultantList)}setDetailsOfOpdPatient(e){this.selectedIpdDetails=null,this.selectedIpdDetails=e,console.log(this.selectedIpdDetails)}showBedAllocationDialoge(){let e=this._dialogService.open(Oe,{header:"Bed Allocation"})}showAttributeSetDialoge(){let e=this._dialogService.open(Ae,{header:"Attribute Set",width:"auto",data:{admissionId:this.selectedIpdDetails.AppointmentId}})}showPatientAppointmentDialoge(){let e=this._dialogService.open(X,{header:"Patient Details - "+this.selectedIpdDetails.PatientName.toUpperCase(),width:"50%",data:{patientId:this.selectedIpdDetails.EntityId,appointmentId:this.selectedIpdDetails.AppointmentId}})}showPatientDetailsDialoge(){console.log(this.selectedIpdDetails);let e=this._dialogService.open(J,{header:"Patient Details - "+this.selectedIpdDetails.PatientName.toUpperCase(),width:"50%",data:{patientId:this.selectedIpdDetails.EntityId}})}showBillDialoge(){let e=this._dialogService.open(Y,{header:"Bill List - "+this.selectedIpdDetails.PatientName.toUpperCase(),width:"auto",data:{ipdPatientDetail:this.selectedIpdDetails,billType:"opd"}})}showPathBillDialoge(){let e=this._dialogService.open(Y,{header:"Path Bill List - "+this.selectedIpdDetails.PatientName.toUpperCase(),width:"auto",data:{ipdPatientDetail:this.selectedIpdDetails,billType:"path"}})}sortPatientByConsultant(){let e=this._commonService.getCurrentSessionUserNameByUserRole("doctor")||null;if(e||this.selectedFilterType){let o=[];this.opdAppointmentPatientList.forEach(t=>{e&&this.value.toLowerCase().includes("user")?t.BookedFor.toLowerCase().includes(e.toLowerCase())&&o.push(t):o.push(t)}),this.sortedPatientListByConsultant=o,this.filterPatientListByWatingLeft()}}filterPatientListByWatingLeft(e){let o=[];this.filteredLeftPatientList=[],this.filteredWatingPatientList=[],this.sortedPatientListByConsultant.forEach(t=>{this.statusValue.toLowerCase().includes("waiting")&&t.Arrived&&!t.LeftHosp&&this.filteredWatingPatientList.push(t),this.statusValue.toLowerCase().includes("left")&&t.Arrived&&t.LeftHosp&&this.filteredLeftPatientList.push(t)}),this.filterPatientByFilterTypeFilterSubType()}filterPatientByFilterTypeFilterSubType(e){debugger;let o=[];if(!this.searchPatienName.length&&!this.isFilterPatient&&(this.isFilterPatient=!1),!this.selectedFilterType&&!this.selectedSubFilterValue&&!this.isFilterPatient&&(o=o.length===0?this.sortedPatientListByConsultant:o),(this.selectedFilterType&&this.selectedSubFilterValue||this.isFilterPatient)&&this.opdAppointmentPatientList.length){debugger;this.opdAppointmentPatientList.forEach(s=>{if(s){debugger;let f=this.searchPatienName?"PatientName":this.selectedFilterType,c=(this.searchPatienName?this.searchPatienName:this.selectedSubFilterValue).trim().toLowerCase();if(s[f]!==void 0){let A=s[f].toLowerCase().trim();f&&A&&A.includes(c)&&o.push(s)}}})}else o=this.opdAppointmentPatientList;let t=[];debugger;if(this.value.includes("user-wise")){let s=this._commonService.getCurrentSessionUserNameByUserRole("doctor");o.forEach(f=>{debugger;s&&f.BookedFor.replaceAll(".","").toLowerCase().includes(s.replaceAll(".","").toLowerCase())&&t.push(f)}),t.length?o=t:this.value="all"}this.filteredPatientList=o,!this.filteredPatientList.length&&this.isFilterPatient&&this.searchPatienName.length&&(this.showAlertPopup=!0),console.log(this.filteredPatientList)}updateIndex(){return this.tableIndex=this.tableIndex+1}navigateToOpdCard(){this._router.navigate(["feature/opd/opd-card"],{state:{appointmentId:this.selectedIpdDetails.AppointmentId,hospitalSection:B.hospitalSection},queryParams:{appointmentId:this.selectedIpdDetails.AppointmentId}})}validPlatform(e){return this._commonService.checkPlatform(e)}loadPreviousAppointmentListByPatientId(){this.selectedIpdDetails?this._appointmentServices.getPreviousAppointmentListByPatientId(this.selectedIpdDetails.EntityId).subscribe(e=>{console.log(e),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.previousAppointmentList=[],this.previousAppointmentList=e.dataSet.Table)},e=>{console.error(e),alert("Please check log, for more details.")}):alert("Patient id didn`t fetched.")}showMoreDetails(e){this.showAppointmentListModal=!this.showAppointmentListModal,this.selectedIpdDetails=e,console.log(this.selectedIpdDetails),this.loadPreviousAppointmentListByPatientId()}countWaitingDonePatient(e){let o=0;return e&&this.filteredPatientList.forEach(t=>{e.toLowerCase()==="waiting"&&(t.LeftHosp||(o=o+1)),e.toLowerCase()==="done"&&t.LeftHosp&&(o=o+1)}),o}refreshing(){this.isRefreshing=!0,setTimeout(()=>{this.isRefreshing=!1},5e3)}loadPatientDetailByPatientId(){this._patientServices.getPatientDetailsByPatientId(this.selectedIpdDetails.EntityId).subscribe(e=>{console.log(e),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.patientDetails=e.dataSet.Table[0])},e=>{console.error(e),alert("Please check log, for more detail.")})}leftPatientPopUp(e){this._confirmationService.confirm({target:e.target,message:"is opd done for this patient?",accept:()=>{this.leftPatientByPatientIdAppointmentId(this.selectedIpdDetails.AppointmentId,this.selectedIpdDetails.EntityId,1)},reject:()=>{}})}leftPatientByPatientIdAppointmentId(e,o,t){this._opdServices.leftPatient(e,o,t).subscribe(s=>{console.log(s),s.Status.toLowerCase().includes("success")&&this.loadAppointmentPatientList()},s=>{console.error(s),alert("Please check log, for more detail.")})}setFilterListByFilterType(e){e.toLowerCase().includes("consultant")&&(this.filterTypeList=this.opdPatientListConsultantList),e.toLowerCase().includes("procedure")&&(this.filterTypeList=this.opdPatientListAppointmentReasonList),e||(this.filterTypeList=[])}resetFilter(){this.selectedFilterType="",this.selectedSubFilterValue="",this.isFilterPatient=!1,this.searchPatienName="",this.sortPatientByConsultant()}loadPatReportListByPatientIdPathId(){this._pathManagementServices.getPathReportListByPatientIdPathId(this.pathLabId,this.selectedIpdDetails.EntityId).subscribe(e=>{if(console.log(e),e.Status.toLowerCase()==="success"&&e.noofREcords){this.pathReportDateWiseList=[];let o=e.dataSet.Table,t=new k;o.forEach(s=>{debugger;let f=s.RequestDate||"";f&&(t.date||(t.date=this._commonService.trasformDateTimeByFormat("yyyy-MM-dd",f)||""),this.pathReportDateWiseList.length?t.date&&(t.date===this._commonService.trasformDateTimeByFormat("yyyy-MM-dd",s.RequestDate)?t.dataArray.push(s):t.dataArray.length&&(this.pathReportDateWiseList.push(t),t=new k)):t.date&&!t.dataArray.length?t.dataArray.push(s):t.date&&(t.date===this._commonService.trasformDateTimeByFormat("yyyy-MM-dd",s.RequestDate)?t.dataArray.push(s):t.dataArray.length&&(this.pathReportDateWiseList.push(t),t=new k)))})}console.log(this.pathReportDateWiseList)},e=>{console.error(e),alert("Please check log, for more details.")})}loadPathReportListByPathIdAndPatientIdDate(){this._pathManagementServices.getPathReportListByPathIdPatientId(this.pathReportDate,this.pathLabId,this.selectedIpdDetails.EntityId).subscribe(e=>{console.log(e),e.Status.toLowerCase()==="success"&&e.noofREcords&&(this.pathReportList=[],this.pathReportList=e.dataSet.Table)},e=>{console.error(e)})}setWidthBasedOnDevice(){return this.validPlatform("iphone")||this.validPlatform("ipad")||this.validPlatform("android")?"100rem":"30rem"}rediectToPathManagement(e){this._router.navigate(["feature/opd/path-summary"],{queryParams:{patientId:this.selectedIpdDetails.EntityId,pathAppId:e.AppointmentId,pathLabId:e.pathlabid}})}wrapupExtraProcedureText(e){let o="";if(e)if(e.length>40)for(let t=0;t<45;t++)t<=43?o=o+e[t]:o=o+"...";else o=e;return o}printBlankOpdCard(){let e="";console.log(this.selectedIpdDetails),this.loadPatientDetailByPatientId();debugger;this._opdServices.getBlankOpdCardData().subscribe(o=>{console.log(o);debugger},o=>{debugger;console.error(o),o.status===200&&o.statusText.toLowerCase()==="ok"&&(e=o.error.text,console.log(e),e?this.openBlankOpdCard(e):alert("Pleasr try again or template is not available."))})}openBlankOpdCard(e){e=e.replaceAll("#OPDNO#",this.selectedIpdDetails.OPDNo),e=e.replaceAll("#PNAME#",this.patientDetails.EntityName),e=e.replaceAll("#AGE#",this.patientDetails.PrimaryId1),e=e.replaceAll("#SEX#",this.patientDetails.PrimaryFld2),e=e.replaceAll("#MOBILENO#",this.patientDetails.PrimaryFld1),e=e.replaceAll("#DOCTORNAME#",this.selectedIpdDetails.BookedFor),e=e.replaceAll("#APPDATE#",this._commonService.trasformDateTimeByFormat("dd/MMM/yyyy",this.selectedIpdDetails.StartDateTime)||""),e=e.replaceAll("#ADDRESS#",this.patientDetails.PrimaryFld4);debugger;this._commonService.printHtmlInNewWindow(e)}loadPatientList(e){(e||this.searchPatienName)&&this._patientServices.getPatientDetailsByPatientPatientName_IPD_Dashboard(e||this.searchPatienName).subscribe(o=>{console.log("Serched Patient List =>",o),o.Status.toLowerCase().trim().includes("success")&&o.noofREcords&&(this.searchedPatientList=[],this.searchedPatientList=o.dataSet.Table,console.log("Searched =>",this.searchedPatientList))},o=>{console.error(o)})}setAndSearchPatientDetailByPatientName(e){this.searchPatienName=e.toUpperCase(),this.filterPatientByFilterTypeFilterSubType(!0),this.searchedPatientList=[]}static{this.\u0275fac=function(o){return new(o||r)(D(Ne),D(j),D(N),D(ge),D(ye),D(Be),D(Fe),D(ke))}}static{this.\u0275cmp=$({type:r,selectors:[["app-opd-management"]],viewQuery:function(o,t){if(o&1&&ne(H,5),o&2){let s;ae(s=oe())&&(t.confirmPopup=s.first)}},features:[re([j,Pe])],decls:150,vars:66,consts:[["op",""],["op1",""],["confirmPopupRef",""],["selectOptionFilterType",""],[4,"ngIf"],["header","Filter",3,"visibleChange","modal","visible","breakpoints","maximizable"],[1,"row"],[1,"col-12","p-2","mt-2"],[1,"d-flex","justify-content-around","align-items-center","h-100"],[1,"d-flex","flex-row","gap-1","align-items-center"],["name","pizza","value","false","inputId","dateSearch1",3,"ngModelChange","ngModel"],["for","dateSearch1",1,"ml-2"],["name","pizza","value","true","inputId","dateSearch2",3,"ngModelChange","ngModel"],["for","dateSearch2",1,"ml-2"],["class","col-12 p-2",4,"ngIf"],[3,"visibleChange","modal","visible","breakpoints","maximizable"],[1,"col-12","p-2"],[1,"d-flex","justify-content-around"],[1,"col-6"],[1,"d-flex","flex-column","gap-1"],["type","date","name","","id","",1,"form-control"],["header","More Details","position","bottom",3,"visibleChange","modal","visible"],["class","row",4,"ngIf"],[1,"flex","flex-wrap","gap-3"],["type","button",1,"btn","p-button","p-button-raised","btn-info",3,"click"],[1,"flex","flex-row","justify-content-center","gap-2","text-white"],["src","assets/images/details.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/bills.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/path_ipd_icon.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/printer.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/discharge_summary.png","height","20px","alt","","srcset","",2,"color","white"],[1,"d-flex","flex-column","gap-2"],[1,"d-flex","flex-row","justify-content-around","gap-3"],[1,"flex","flex-row","justify-content-center","gap-2"],["src","assets/images/summary.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/medical-history.png","height","20px","alt","","srcset","",2,"color","white"],["position","bottom",3,"visibleChange","header","modal","visible"],["pTemplate","headless"],["header","Path Report List Date Wise","position","bottom",3,"visibleChange","modal","visible"],[1,"d-flex","flex-column","mt-2",2,"width","100%","max-height","50dvh !important"],[1,"d-flex","flex-row","justify-content-end","align-items-end","gap-1"],[1,"d-flex","flex-row","align-items-center","gap-2"],["name","","id","",1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],["value","critizone"],[1,"d-flex","flex-column","gap-2","mt-2"],["header","Searched Patient",3,"visibleChange","modal","visible","position"],[1,"d-flex","flex-column","justify-content-center","gap-1","text-center","w-100"],[1,"d-flex","text-center","justify-content-center","w-100"],["src","assets/images/patient_detail_alert.gif","height","150px","width","150px","alt","","srcset",""],[2,"color","red"],[1,"d-flex","flex-row","justify-content-around","gap-2","w-100"],[1,"d-flex","flex-column"],["type","date",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"flex","justify-content-end","gap-2","mt-2"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"d-flex","flex-row"],[1,"p-2",2,"width","15%"],[1,"d-flex","flex-row","gap-1","h-100","align-items-center","justify-content-center"],["src","assets/images/queue.png","height","60px","alt","","srcset",""],[1,"p-0","m-0"],["type","date",1,"form-control",3,"ngModelChange","change","mouseenter","mouseleave","ngModel"],["type","date",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"d-flex","justify-content-between"],[3,"click",4,"ngIf"],["name","","id","",1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","BookedFor"],["value","referred consultant"],["value","Treatment"],["class","d-flex flex-column gap-1",4,"ngIf"],["type","button",1,"text-center","btn","shadow-lg",2,"background-color","#A5DD9B",3,"click"],[1,"",2,"width","85%"],[1,"d-flex","flex-row","justify-content-between","gap-2","p-2","w-100"],[1,"d-flex","flex-row","gap-2"],[1,"p-1","m-0","rounded-1","shadow-lg",2,"background-color","#78C1F3"],[1,"p-1","m-0","rounded-1","shadow-lg",2,"background-color","#FDDE55"],[1,"p-1","m-0","rounded-1","shadow-lg",2,"background-color","#A8DF8E"],[1,"p-1","m-0","rounded-1","shadow-lg","d-flex","align-items-center","gap-2",2,"background-color","#FA7070","color","white",3,"click"],["class","p-1 m-0 rounded-1 shadow-lg d-flex align-items-center gap-2","style","background-color: #03AED2; color: white;",3,"click",4,"ngIf"],["optionLabel","label","optionValue","value",3,"ngModelChange","options","ngModel"],[1,"position-relative",2,"position","relative"],["type","text","name","","id","","placeholder","Search patient name here...",1,"form-control","rounded-5","shadow-lg",2,"min-width","300px",3,"ngModelChange","keyup","ngModel"],["type","button","class","btn position-absolute right-0 rounded-5","style","background-color: #FA7070; color: white;  position: absolute; right: 0%; top: 0%;",3,"click",4,"ngIf"],[1,""],["type","button",1,"btn","btn-secondary"],[1,"bi","bi-gear-wide-connected",2,"font-size","1.1rem"],[1,"",2,"overflow-y","auto","max-height","85vh","position","relative !important","top","0"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[3,"click"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"p-1","m-0","rounded-1","shadow-lg","d-flex","align-items-center","gap-2",2,"background-color","#03AED2","color","white",3,"click"],["type","button",1,"btn","position-absolute","right-0","rounded-5",2,"background-color","#FA7070","color","white","position","absolute","right","0%","top","0%",3,"click"],[1,"bi","bi-x-lg"],[1,"card","border-0","shadow-lg","p-1","m-0",2,"position","absolute","top","100%","right","0","max-height","500px","min-width","100%","overflow-y","auto","z-index","10000"],["class","text-nowrap p-1 row-hover-effect",3,"click",4,"ngFor","ngForOf"],[1,"text-nowrap","p-1","row-hover-effect",3,"click"],[1,"p-0","m-0",2,"margin-top","-2% !important"],[1,"p-0","m-0",2,"color","red"],[2,"position","sticky !important","top","0 !important"],[1,"text-center"],["for",""],[1,"d-flex","justify-content-center","text-nowrap"],[1,"p-1","rounded-5"],[1,"text-nowrap"],["appPendingDoneStatus","",1,"text-center"],[1,"rounded-5","p-1"],[1,"text-wrap","text-center"],[3,"readonly"],["src","assets/images/info.png","alt","","height","30px","srcset","",2,"cursor","pointer",3,"click"],[1,"col-12"],[1,"d-flex","justify-content-between","w-90","pr-2","pl-2","h-100","align-items-center"],[1,"d-flex","flex-row","gap-1","h-100","align-items-center"],["src","assets/images/queue.png","height","50px","alt","","srcset",""],["type","button","class","btn btn-sm btn-danger",3,"click",4,"ngIf"],["optionLabel","label","optionValue","value",3,"ngModelChange","onChange","options","ngModel"],[1,"row","mt-1"],[1,"col-12","pr-4","pl-4"],["class","card border-2 rounded-1 shadow-lg p-2 card-bg mb-2",3,"click",4,"ngFor","ngForOf"],[1,"flex","flex-column","gap-3","w-auto"],["type","button",1,"btn","btn-sm","p-button","p-button-raised","btn-info",3,"click"],["src","assets/images/discharge_patient.png","height","20px","alt","","srcset","",2,"color","white"],[1,"floatable-filter-icon",3,"click"],[1,"card","rounded-5","p-2","shadow-lg"],["src","./../../../../../../assets/images/filter.png","height","50 px","alt","","srcset",""],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"d-flex","flex-row","align-items-center","gap-1"],["src","./../../../../../assets/images/reset-setting.png","height","25px","alt","","srcset",""],[1,"card","border-2","rounded-1","shadow-lg","p-2","card-bg","mb-2",3,"click"],[1,"d-flex","flex-wrap","align-items-center","h-100","gap-2"],["src","assets/images/people.png","height","20px","alt","","srcset","",2,"color","white"],[1,"d-flex","flex-wrap"],[2,"color","var(--ipd-opd-case-text-color)"],[1,"flex","justify-content-between"],[2,"font-size","0.8rem !important"],[2,"color","var(--uhid-text-color)"],[1,"d-flex","flex-wrap","gap-2"],["src","assets/images/addmission_date_time.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/health.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/treatment_for.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/referredBy.png","height","20px","alt","","srcset","",2,"color","white"],[1,"form-select","form-select-sm",3,"ngModelChange","change","ngModel"],["class","col-6",4,"ngIf"],[1,"d-flex","justify-content-end"],[1,"flex","flex-column"],[3,"href"],["header","Patient Detail"],[3,"patientId"],["header","Appointment Detail"],[3,"patientId","appointmentId"],["header","Appointment List"],["class","col-12",4,"ngFor","ngForOf"],[1,"card","rounded-3","shadow-lg","p-2","appointment-list-card-style"],[1,"border-round","p-3"],[1,"flex","align-items-center","gap-2","mt-3"],["class","card border-2 rounded-3 shadow-lg p-2 path-report-date-wise-card-bg-color",3,"click",4,"ngFor","ngForOf"],[1,"card","border-2","rounded-3","shadow-lg","p-2","path-report-date-wise-card-bg-color",3,"click"],[1,"d-flex","flex-row","gap-1"],[1,"d-flex","align-items-center","p-2"],[1,"m-0","p-0"],[1,"d-flex","justify-content-center","text-center","p-2",2,"width","100%"],["src","assets/images/no-data.png","height","200px","alt","","srcset",""]],template:function(o,t){if(o&1){let s=S();x(0,ht,68,23,"ng-container",4)(1,xt,44,9,"ng-container",4),i(2,"p-dialog",5),C("visibleChange",function(c){return p(s),y(t.visibleFilterDialog,c)||(t.visibleFilterDialog=c),d(c)}),i(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"p-radioButton",10),C("ngModelChange",function(c){return p(s),y(t.isCustomDate,c)||(t.isCustomDate=c),d(c)}),n(),i(8,"label",11),a(9," Current Date "),n()(),i(10,"div",9)(11,"p-radioButton",12),C("ngModelChange",function(c){return p(s),y(t.isCustomDate,c)||(t.isCustomDate=c),d(c)}),n(),i(12,"label",13),a(13," Custom Date "),n()()()(),x(14,vt,14,0,"div",14)(15,Pt,17,5,"div",14),n()(),i(16,"p-dialog",15),C("visibleChange",function(c){return p(s),y(t.visibleAdditionalOptionsDialog,c)||(t.visibleAdditionalOptionsDialog=c),d(c)}),i(17,"div",6)(18,"div",16)(19,"div",17)(20,"div",9)(21,"p-radioButton",10),C("ngModelChange",function(c){return p(s),y(t.isCustomDate,c)||(t.isCustomDate=c),d(c)}),n(),i(22,"label",11),a(23," Current Date "),n()(),i(24,"div",9)(25,"p-radioButton",12),C("ngModelChange",function(c){return p(s),y(t.isCustomDate,c)||(t.isCustomDate=c),d(c)}),n(),i(26,"label",13),a(27," Custom Date "),n()()()(),i(28,"div",16)(29,"div",6)(30,"div",18)(31,"div",19)(32,"small")(33,"strong"),a(34,"From"),n()(),h(35,"input",20),n()(),i(36,"div",18)(37,"div",19)(38,"small")(39,"strong"),a(40,"To"),n()(),h(41,"input",20),n()()()()()(),i(42,"p-dialog",21),C("visibleChange",function(c){return p(s),y(t.moreDetails,c)||(t.moreDetails=c),d(c)}),x(43,bt,66,13,"div",22),n(),i(44,"p-overlayPanel",null,0)(46,"div",23)(47,"button",24),u("click",function(){return p(s),t.moreDetails=!t.moreDetails,d(t.loadPatientDetailByPatientId())}),i(48,"strong",25),h(49,"img",26),a(50," Details "),n()(),i(51,"button",24),u("click",function(){return p(s),d(t.showBillDialoge())}),i(52,"strong",25),h(53,"img",27),a(54," Bills "),n()(),i(55,"button",24),u("click",function(){return p(s),d(t.showPathBillDialoge())}),i(56,"strong",25),h(57,"img",28),a(58," Path Bills "),n()(),i(59,"button",24),u("click",function(){return p(s),t.showPathReportListDateWise=!t.showPathReportListDateWise,t.loadPatReportListByPatientIdPathId(),d(t.loadPathReportListByPathIdAndPatientIdDate())}),i(60,"strong",25),h(61,"img",28),a(62," Path Test Summary "),n()(),i(63,"button",24),u("click",function(){return p(s),d(t.printBlankOpdCard())}),i(64,"strong",25),h(65,"img",29),a(66," Blank OPD Card "),n()(),i(67,"button",24),u("click",function(){return p(s),d(t.navigateToOpdCard())}),i(68,"strong",25),h(69,"img",30),a(70," OPD Card "),n()()()(),i(71,"p-overlayPanel",null,1)(73,"div",31)(74,"strong"),a(75,"What do you like to check?"),n(),i(76,"div",32)(77,"button",24),u("click",function(){return p(s),d(t.showPatientDetailsDialoge())}),i(78,"strong",33),h(79,"img",26),a(80," Patient Details "),n()(),i(81,"button",24),u("click",function(){return p(s),d(t.showPatientAppointmentDialoge())}),i(82,"strong",33),h(83,"img",34),a(84," Appointment Details "),n()(),i(85,"button",24),u("click",function(){return p(s),t.showAppointmentListModal=!0,d(t.loadPreviousAppointmentListByPatientId())}),i(86,"strong",33),h(87,"img",35),a(88," Previous Appointments "),n()()()()(),i(89,"p-dialog",36),C("visibleChange",function(c){return p(s),y(t.showAppointmentListModal,c)||(t.showAppointmentListModal=c),d(c)}),x(90,Mt,7,4,"p-tabView",4),n(),i(91,"p-confirmPopup",null,2),x(93,Et,8,1,"ng-template",37),n(),i(94,"p-dialog",38),C("visibleChange",function(c){return p(s),y(t.showPathReportListDateWise,c)||(t.showPathReportListDateWise=c),d(c)}),i(95,"div",39)(96,"div",40)(97,"div",41)(98,"strong")(99,"small"),a(100,"Pathalogy: "),n()(),i(101,"select",42),C("ngModelChange",function(c){return p(s),y(t.pathLabId,c)||(t.pathLabId=c),d(c)}),i(102,"option",43),a(103,"Critizone"),n()()()(),i(104,"div",44),x(105,Tt,2,1,"ng-container",4)(106,Vt,3,0,"ng-container",4),n()()(),i(107,"p-dialog",45),C("visibleChange",function(c){return p(s),y(t.showAlertPopup,c)||(t.showAlertPopup=c),d(c)}),i(108,"div",46)(109,"div",47),h(110,"img",48),n(),i(111,"strong"),a(112,"Your searched patient, "),h(113,"br"),a(114),P(115,"uppercase"),h(116,"br"),a(117," is not available in between "),h(118,"br"),i(119,"span",49)(120,"i"),a(121),P(122,"date"),n()(),a(123," to "),i(124,"span",49)(125,"i"),a(126),P(127,"date"),n()()(),h(128,"hr"),i(129,"strong"),a(130," Do you like to search for some other date? "),n(),i(131,"div",50)(132,"div",51)(133,"small")(134,"strong"),a(135," From Date "),n()(),i(136,"input",52),C("ngModelChange",function(c){return p(s),y(t.fromDate,c)||(t.fromDate=c),d(c)}),n()(),i(137,"div",51)(138,"small")(139,"strong"),a(140," to Date "),n()(),i(141,"input",52),C("ngModelChange",function(c){return p(s),y(t.toDate,c)||(t.toDate=c),d(c)}),n()()()(),h(142,"hr"),i(143,"div",53)(144,"button",54),u("click",function(){return p(s),t.showAlertPopup=!1,t.searchPatienName="",d(t.loadAppointmentPatientList(t.isFilterPatient))}),i(145,"strong"),a(146," Cancel "),n()(),i(147,"button",55),u("click",function(){return p(s),t.showAlertPopup=!1,d(t.loadAppointmentPatientList(t.isFilterPatient))}),i(148,"strong"),a(149," Search Patient "),n()()()()}o&2&&(g("ngIf",t.validPlatform("mac")||t.validPlatform("window")),l(),g("ngIf",t.validPlatform("iphone")||t.validPlatform("ipad")||t.validPlatform("andriod")),l(),M(E(57,je)),g("modal",!0),v("visible",t.visibleFilterDialog),g("breakpoints",E(58,He))("maximizable",!0),l(5),v("ngModel",t.isCustomDate),l(4),v("ngModel",t.isCustomDate),l(3),g("ngIf",t.isCustomDate.toLowerCase().includes("true")),l(),g("ngIf",t.isCustomDate),l(),M(E(59,je)),g("modal",!0),v("visible",t.visibleAdditionalOptionsDialog),g("breakpoints",E(60,He))("maximizable",!0),l(5),v("ngModel",t.isCustomDate),l(4),v("ngModel",t.isCustomDate),l(17),M(E(61,qe)),g("modal",!0),v("visible",t.moreDetails),l(),g("ngIf",t.patientDetails),l(46),M(E(62,Ye)),Q("header","More Options - ",t.selectedIpdDetails?t.selectedIpdDetails.PatientName:"",""),g("modal",!0),v("visible",t.showAppointmentListModal),l(),g("ngIf",t.selectedIpdDetails),l(4),M(W(63,Je,t.setWidthBasedOnDevice())),g("modal",!0),v("visible",t.showPathReportListDateWise),l(7),v("ngModel",t.pathLabId),l(4),g("ngIf",t.pathReportList.length),l(),g("ngIf",!t.pathReportList.length),l(),M(E(65,qe)),g("modal",!0),v("visible",t.showAlertPopup),g("position","center"),l(7),b(" ",L(115,49,t.searchPatienName)," "),l(7),w(V(122,51,t.fromDate,"dd-MMM-yyyy")),l(5),w(V(127,54,t.toDate,"dd-MMM-yyyy")),l(10),v("ngModel",t.fromDate),l(5),v("ngModel",t.toDate))},dependencies:[me,le,se,pe,de,ve,we,xe,_e,fe,ue,he,Ve,Ce,Se,be,De,H,Le,Me,Ee,Te,Ie,We,J,X],styles:["[_nghost-%COMP%]     .p-button{padding:.3rem!important}.card-bg[_ngcontent-%COMP%]{background-color:#f6f4eb!important;border-color:#008dda}.appointment-list-card-style[_ngcontent-%COMP%]{background-color:#f1f1f1;border:2px solid #03AED2}[_nghost-%COMP%]     .p-datatable-thead{position:sticky!important;top:0!important}[_nghost-%COMP%]     .p-datatable-table{position:relative!important}[_nghost-%COMP%]     .p-datatable-thead tr{position:sticky!important;top:0!important}.row-hover-effect[_ngcontent-%COMP%]:hover{background-color:#b7b1f2!important;cursor:pointer;list-style:none!important}"]})}}return r})();export{di as OpdManagementComponent};
