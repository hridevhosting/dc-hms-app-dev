import{a as O}from"./chunk-BKPV4HSD.js";import{b as v,c as h}from"./chunk-5JUHOLWQ.js";import{n as C,q as b,r as U,t as j,z as B}from"./chunk-N4ANQEKW.js";import{Eb as m,Ia as E,Ma as a,Na as u,Pb as l,Q as _,Qb as g,Rb as c,Sb as I,V as x,Ya as S,cb as y,fc as f,gc as P,hc as D,nb as r,tb as i,ub as s,vb as o}from"./chunk-ZPID5U3R.js";var w=(()=>{class t{constructor(e,n){this._httpClient=e,this._commonServices=n}getEmployeeDetailsByUserId(e){let n=`select * from emp_master where USERID = ${e} and Active = 1;`,p=this._commonServices.generateApiRequestParam(v.sqlFunNameList.select,null,n);return this._httpClient.post(v.apiUrl+v.sqlController,p)}static{this.\u0275fac=function(n){return new(n||t)(x(B),x(h))}}static{this.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function M(t,d){if(t&1&&(i(0,"div",8)(1,"div",0)(2,"h3",9)(3,"strong"),l(4),s()()()()),t&2){let e=m(2);a(4),g(e.userDetails.UserName)}}function G(t,d){if(t&1&&(i(0,"div",10)(1,"div",11)(2,"strong"),o(3,"img",12),l(4),s(),i(5,"strong"),l(6,"|"),s(),i(7,"strong"),o(8,"img",13),l(9),s(),i(10,"strong"),l(11,"|"),s(),i(12,"strong"),o(13,"img",14),l(14),f(15,"uppercase"),s()()()),t&2){let e=m(2);a(4),c(" ",e.loadUserAge(e.userEmployeeDetails.DOB),""),a(5),c(" +91-",e.userDetails.MobileNo,""),a(5),c(" ",P(15,3,e.userEmployeeDetails.JsonObject.Gender),"")}}function L(t,d){if(t&1&&(i(0,"div",10)(1,"div",11)(2,"strong")(3,"div",15),o(4,"img",16),i(5,"label",17),l(6),s()()(),i(7,"strong"),l(8,"|"),s(),i(9,"strong")(10,"div",15),o(11,"img",18),i(12,"label",17),l(13),s()()()()()),t&2){let e=m(2);a(6),I("",e.userDetails.AssociationType," (#",e.userEmployeeDetails.EmpId,")"),a(7),c(" ",e.userEmployeeDetails.Designation,"")}}function k(t,d){if(t&1&&(i(0,"div",10)(1,"div",11)(2,"strong")(3,"div",15)(4,"label",17),l(5,"DOB"),s(),o(6,"img",19),i(7,"label",17),l(8),f(9,"date"),s()()(),i(10,"strong"),l(11,"|"),s(),i(12,"strong")(13,"div",15)(14,"label",17),l(15," DOJ"),s(),o(16,"img",20),i(17,"label",17),l(18),f(19,"date"),s()()()()()),t&2){let e=m(2);a(8),c(": ",D(9,2,e.userEmployeeDetails.DOB,"dd/MM/yyyy"),""),a(10),c(": ",D(19,5,e.userEmployeeDetails.DateOfJoin,"dd/MM/yyyy"),"")}}function q(t,d){if(t&1&&(i(0,"div",10)(1,"div",11)(2,"strong")(3,"div",15),o(4,"img",21),i(5,"label",17),l(6),s()()()()()),t&2){let e=m(2);a(6),g(e.userDetails.Email||"Add your mail")}}function N(t,d){if(t&1&&(i(0,"div",10)(1,"div",11)(2,"strong")(3,"div",15),o(4,"img",22),i(5,"label",17),l(6),s()()()()()),t&2){let e=m(2);a(6),g(e.userEmployeeDetails.Location||"Add your Location")}}function R(t,d){if(t&1&&(i(0,"div",2)(1,"div",3)(2,"div",0)(3,"div",4),o(4,"img",5),s()()(),y(5,M,5,1,"div",6)(6,G,16,5,"div",7)(7,L,14,3,"div",7)(8,k,20,8,"div",7)(9,q,7,1,"div",7)(10,N,7,1,"div",7),s()),t&2){let e=m();a(4),r("src",e.defaultProfilePhotoPathUrl,E),a(),r("ngIf",e.userDetails),a(),r("ngIf",e.userDetails&&e.userEmployeeDetails),a(),r("ngIf",e.userDetails&&e.userEmployeeDetails),a(),r("ngIf",e.userDetails&&e.userEmployeeDetails),a(),r("ngIf",e.userDetails&&e.userEmployeeDetails),a(),r("ngIf",e.userDetails&&e.userEmployeeDetails)}}var Q=(()=>{class t{constructor(e,n,p){this._userService=e,this._employeeService=n,this._commonService=p,this.userDetails=null,this.userEmployeeDetails=null,this.defaultProfilePhotoPathUrl=""}ngOnInit(){this.loadUserDetails()}loadUserDetails(){this._userService.getUserDetailsByUserId().subscribe(e=>{console.log(e),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.userDetails=e.dataSet.Table[0],this.loadUserEmployeeDetailsByUserId(this.userDetails.UserId))},e=>{console.error(e)})}loadUserEmployeeDetailsByUserId(e){e&&this._employeeService.getEmployeeDetailsByUserId(e).subscribe(n=>{console.log(n),n.Status.toLowerCase().includes("success")&&n.noofREcords&&(this.userEmployeeDetails=null,this.userEmployeeDetails=n.dataSet.Table[0],this.userEmployeeDetails.JsonObject&&(this.userEmployeeDetails.JsonObject=JSON.parse(this.userEmployeeDetails.JsonObject),this.userEmployeeDetails.JsonObject.Gender&&this.userEmployeeDetails.JsonObject.Gender!=null?this.loadDefaultProfilePhotoByGender(this.userEmployeeDetails.JsonObject.Gender):this.loadDefaultProfilePhotoByGender("")))},n=>{console.error(n)})}loadUserAge(e){return this._commonService.calculateAgeByUserDOB(e)}loadDefaultProfilePhotoByGender(e){switch(e.toLowerCase()){case"male":this.defaultProfilePhotoPathUrl="assets/images/avatar-male.gif";break;case"female":this.defaultProfilePhotoPathUrl="assets/images/avatar-female.gif";break;default:this.defaultProfilePhotoPathUrl="assets/images/profile-photo.png";break}}static{this.\u0275fac=function(n){return new(n||t)(u(O),u(w),u(h))}}static{this.\u0275cmp=S({type:t,selectors:[["app-personal-details"]],decls:2,vars:1,consts:[[1,"flex","justify-content-center","w-100"],["class","row",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"card","shadow-8","rounded-5","mt-3"],["height","150px","alt","","srcset","",1,"rounded-5",3,"src"],["class","col-12 mt-3",4,"ngIf"],["class","col-12 mt-1",4,"ngIf"],[1,"col-12","mt-3"],[1,"p-0","m-0"],[1,"col-12","mt-1"],[1,"flex","justify-content-center","align-items-center","gap-2","h-100","w-100"],["src","assets/images/age.png","height","20px","alt","","srcset",""],["src","assets/images/contact-book.png","height","20px","alt","","srcset",""],["src","assets/images/gender.png","height","20px","alt","","srcset",""],[1,"flex","align-items-center","h-100","gap-1"],["src","assets/images/agreement.png","height","20px","alt","","srcset",""],["for",""],["src","assets/images/identity.png","height","20px","alt","","srcset",""],["src","assets/images/happy-birthday.png","height","20px","alt","","srcset",""],["src","assets/images/calender-icon.png","height","20px","alt","","srcset",""],["src","assets/images/mail.png","height","20px","alt","","srcset",""],["src","assets/images/map.png","height","20px","alt","","srcset",""]],template:function(n,p){n&1&&(i(0,"div",0),y(1,R,11,7,"div",1),s()),n&2&&(a(),r("ngIf",p.userDetails))},dependencies:[j,C,b,U],encapsulation:2})}}return t})();export{Q as PersonalDetailsComponent};
