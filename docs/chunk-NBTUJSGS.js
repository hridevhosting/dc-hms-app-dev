import{a as te}from"./chunk-Z3XLHSKN.js";import{a as q}from"./chunk-J6ZVA5VK.js";import{a as Q}from"./chunk-5SQOI7NT.js";import{K as O,d as ie,e as ne,g as oe,h as re}from"./chunk-A34WLQ27.js";import{b as G,d as X,e as Y,h as Z,i as $,l as ee}from"./chunk-OCIRHO6A.js";import{a as E,c as K}from"./chunk-6XXP7TRA.js";import{g as A,h as J,j as D}from"./chunk-3RSPD7AX.js";import{m as R,n as B,q as H,t as z}from"./chunk-N4ANQEKW.js";import{Db as k,Eb as p,Ma as a,Na as x,Pb as s,Q as j,Qb as I,R as y,Rb as M,Ub as v,Vb as S,Wb as b,Ya as W,Za as L,_b as V,ca as f,cb as h,da as _,fc as w,gc as C,nb as c,qb as F,tb as i,ub as n,vb as l,wb as g,xb as u,zb as P}from"./chunk-ZPID5U3R.js";var N=class{constructor(){this.UserId=0,this.UserName="",this.UserRole=""}};var ae=(()=>{class t{constructor(){}setSession(e){sessionStorage.setItem("user",JSON.stringify(e))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var de=(t,m)=>({height:t,width:m});function pe(t,m){if(t&1&&(i(0,"option",30),s(1),w(2,"uppercase"),n()),t&2){let e=m.$implicit;c("value",e.LoginName),a(),M("",C(2,2,e.LoginName)," ")}}function ge(t,m){if(t&1){let e=P();g(0),i(1,"div",10)(2,"div",11)(3,"div",12)(4,"h5",13)(5,"strong")(6,"i"),s(7,"Welcome at, "),n()()(),i(8,"h4"),s(9),n()()()(),i(10,"div",14)(11,"div",15),l(12,"img",16),n(),i(13,"div",11)(14,"div",17)(15,"div",18),l(16,"img",19),i(17,"input",20),b("ngModelChange",function(o){f(e);let d=p(2);return S(d.loginDetails.LoginName,o)||(d.loginDetails.LoginName=o),_(o)}),n(),i(18,"datalist",21),h(19,pe,3,4,"option",22),n()()()(),i(20,"div",11)(21,"div",17)(22,"div",18),l(23,"img",23),i(24,"input",24),b("ngModelChange",function(o){f(e);let d=p(2);return S(d.loginDetails.pass1,o)||(d.loginDetails.pass1=o),_(o)}),n()()()(),i(25,"div",15)(26,"button",25),k("click",function(){f(e);let o=p(2);return _(o.validateLogin())}),i(27,"div",26),l(28,"img",27),i(29,"strong"),s(30,"Login"),n()()()(),i(31,"div",11),l(32,"hr"),n(),i(33,"div",15)(34,"h6",28),s(35,"Opps! have you forget your password? "),i(36,"strong")(37,"i")(38,"u",29),s(39,"Let`s reset."),n()()()()()(),u()}if(t&2){let e=p(2);a(9),M("",e.hospitalName," Hospital"),a(8),v("ngModel",e.loginDetails.LoginName),a(2),c("ngForOf",e.loginUserList),a(5),v("ngModel",e.loginDetails.pass1)}}function ue(t,m){t&1&&(g(0),i(1,"div",31),l(2,"img",32),i(3,"h4"),s(4,"Verifying your details..."),n()(),u())}function fe(t,m){if(t&1&&(g(0),i(1,"div",31),l(2,"img",33),i(3,"h3"),s(4),w(5,"uppercase"),n()(),u()),t&2){let e=p(2);a(4),I(C(5,1,e.userName))}}function _e(t,m){if(t&1&&(g(0),l(1,"div",1),i(2,"div",2)(3,"div",3)(4,"h5",4)(5,"i"),s(6,"Software By"),n()(),l(7,"img",5),n()(),i(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),h(12,ge,40,4,"ng-container",0)(13,ue,5,0,"ng-container",0)(14,fe,6,3,"ng-container",0),n()()()(),u()),t&2){let e=p();a(12),c("ngIf",!e.inProcess&&!e.isSuccess),a(),c("ngIf",e.inProcess&&!e.isSuccess),a(),c("ngIf",!e.inProcess&&e.isSuccess)}}function he(t,m){if(t&1&&(i(0,"option",30),s(1),w(2,"uppercase"),n()),t&2){let e=m.$implicit;c("value",e.LoginName),a(),M("",C(2,2,e.LoginName)," ")}}function xe(t,m){if(t&1){let e=P();i(0,"div",41)(1,"div",15)(2,"h1",42),s(3,"Welcome back!"),n(),i(4,"h6",4),s(5,"Login to continue using EasyLife(HMS)."),n()(),i(6,"div",11)(7,"div",43)(8,"label",44)(9,"strong",45),s(10,"Username"),n()(),i(11,"input",46),b("ngModelChange",function(o){f(e);let d=p(2);return S(d.loginDetails.LoginName,o)||(d.loginDetails.LoginName=o),_(o)}),n(),i(12,"datalist",21)(13,"option",47),s(14,"Please select user"),n(),h(15,he,3,4,"option",22),n()()(),i(16,"div",11)(17,"div",48)(18,"label",44)(19,"strong",45),s(20,"Password"),n()(),i(21,"input",49),b("ngModelChange",function(o){f(e);let d=p(2);return S(d.loginDetails.pass1,o)||(d.loginDetails.pass1=o),_(o)}),n()()(),i(22,"div",50)(23,"div",51),l(24,"p-checkbox",52),n()(),i(25,"div",50)(26,"div",53)(27,"button",54),k("click",function(){f(e);let o=p(2);return _(o.validateLogin())}),n(),l(28,"div",51),n()()()}if(t&2){let e=p(2);a(11),v("ngModel",e.loginDetails.LoginName),a(4),c("ngForOf",e.loginUserList),a(6),v("ngModel",e.loginDetails.pass1),a(3),c("binary",!0)}}function ve(t,m){t&1&&(g(0),i(1,"div",55),l(2,"img",32),i(3,"h4"),s(4,"Verifying your details..."),n()(),u())}function Se(t,m){if(t&1&&(g(0),i(1,"div",55),l(2,"img",33),i(3,"h3"),s(4),w(5,"uppercase"),n()(),u()),t&2){let e=p(2);a(4),I(C(5,1,e.userName))}}function be(t,m){if(t&1&&(g(0),l(1,"div",34),i(2,"div",35)(3,"div",36),l(4,"img",37),n()(),i(5,"div",38)(6,"div",39),h(7,xe,29,4,"div",40),i(8,"div",41),h(9,ve,5,0,"ng-container",0)(10,Se,6,3,"ng-container",0),n()()(),u()),t&2){let e=p();a(),F(V(5,de,e.screenHeight,e.screenWidth)),a(6),c("ngIf",!e.inProcess&&!e.isSuccess),a(2),c("ngIf",e.inProcess&&!e.isSuccess),a(),c("ngIf",!e.inProcess&&e.isSuccess)}}var T=class{constructor(){this.LoginName="",this.pass1=""}},se=(()=>{class t{constructor(e,r,o,d,ce){this._authService=e,this._userService=r,this._sessionService=o,this._router=d,this._commonService=ce,this.screenHeight="",this.screenWidth="",this.userName="",this.inProcess=!1,this.isSuccess=!1,this.hospitalName="",this.loginUserList=[],this.loginDetails=new T}ngOnInit(){this.hospitalName=E.hospitalName,this.verifyLogin(),this.getUserLoginNameList(),this.screenHeight=E.screenHeight.toString()+"px",this.screenWidth=E.screenWidth.toString()+"px"}validateLogin(){this.loginDetails.LoginName&&this.loginDetails.pass1&&(this.inProcess=!0,console.log(this.loginDetails),this._authService.login(this.loginDetails).subscribe(e=>{if(console.log(e),e){if(e.UserId>0){let r=new N;r.UserId=e.UserId,r.UserName=e.UserName,this.userName=e.UserName,r.UserRole=e.Role,setTimeout(()=>{this.inProcess=!1,this.isSuccess=!0,setTimeout(()=>{this._sessionService.setSession(r),this._router.navigate(["auth/operate-category"])},1500)},2500)}}else alert("Please retry to login or check log for more detail.")},e=>{console.error(e),this.inProcess=!1,this.isSuccess=!1,alert("Please check log, for more details.")}))}getUserLoginNameList(){this._commonService.activeLoader(),this._userService.getUserListWithOnlyLoginName().subscribe(e=>{this._commonService.deactiveLoader(),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(console.log(e),this.loginUserList=[],this.loginUserList=e.dataSet.Table,console.log(this.loginUserList))},e=>{this._commonService.deactiveLoader(),console.error(e)})}validPlatform(e){return this._commonService.checkPlatform(e)}verifyLogin(){this._commonService.getCurrentSessionUserId()&&window.history.forward()}static{this.\u0275fac=function(r){return new(r||t)(x(Q),x(q),x(ae),x(A),x(K))}}static{this.\u0275cmp=W({type:t,selectors:[["app-login"]],standalone:!1,decls:2,vars:2,consts:[[4,"ngIf"],["appDevResIdentify","'hello'",1,"cover-photo"],[1,"brand-label","card","border-0","rounded-0","p-3"],[1,"d-flex","flex-row","gap-3"],[1,"p-0","m-0"],["src","assets/logo/companyLogo.png","height","20px","alt",""],[1,"main"],[1,"container","h-100","w-100"],[1,"d-flex","justify-content-end","align-items-center","h-100"],[1,"card","element","border-0","p-3",2,"height","500px !important","width","500px !important"],[1,"row"],[1,"col-12"],[1,"d-flex","flex-row","gap-2","h-100","align-items-end","justify-content-between","p-2"],[1,""],[1,"row","p-2"],[1,"col-12","text-center"],["src","assets/images/authentication-lock.png","height","100px","alt",""],[1,"d-flex","flex-column","text-end"],[1,"d-flex","flex-row","gap-1"],["src","assets/images/profile-photo.png","height","50px","alt","","srcset","",1,"p-1","rounded-1",2,"background-color","#F6F5F2"],["list","userNameList","type","text","placeholder","Enter your username",1,"form-select","form-select-lg","rounded-0",2,"border-bottom","3px solid black",3,"ngModelChange","ngModel"],["id","userNameList"],[3,"value",4,"ngFor","ngForOf"],["src","assets/images/password.png","height","50px","alt","","srcset","",1,"p-1","rounded-1",2,"background-color","#F6F5F2"],["type","password","placeholder","Enter your password",1,"form-control","form-control-lg","rounded-0","text-start",2,"border-bottom","3px solid black",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-lg","btn-element",3,"click"],[1,"d-flex","flex-row","gap-1","h-100","align-items-center"],["src","assets/images/validate.png","height","25px","alt","","srcset",""],[2,"color","#CD1818"],["pTooltip","Let us help you, for getting you new password.","routerLink","./../forget-password",2,"cursor","pointer"],[3,"value"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100","w-100"],["src","assets/images/login_process.gif","height","250px","alt","","srcset",""],["src","assets/images/welcome_animation.gif","height","120px","width","300px","alt","","srcset",""],[1,"bg-image"],[1,"w-100",2,"position","absolute","top","5%"],[1,"d-flex","justify-content-center"],["src","assets/hospital-image/bg-image.png","height","300px","alt","",1,"rounded-5","shadow-8",2,"background-size","contain"],[1,"d-flex","justify-content-center","align-items-center",2,"position","absolute","bottom","0px"],[1,"card","shadow-lg","border-custom-login-card"],["class","row p-4",4,"ngIf"],[1,"row","p-4"],[1,"h1","p-0"],[1,"d-flex","flex-column"],["for","username"],[2,"font-weight","700","font-size","1.2rem"],["list","userNameList","type","text","placeholder","Enter your user name...",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[1,"d-flex","flex-column","w-100",2,"width","100%"],["type","password","name","","id","","placeholder","Please enter your account password",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","mt-1"],[1,"d-flex","justify-content-center","w-100"],["inputId","binary","label","Remember me for future.",3,"binary"],[1,"d-flex","justify-content-center","flex-column","w-100"],["pButton","","pRipple","","label","Login",1,"btn","btn-sm","p-button-raised","btn-success",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100",2,"width","100dvw"]],template:function(r,o){r&1&&h(0,_e,15,3,"ng-container",0)(1,be,11,8,"ng-container",0),r&2&&(c("ngIf",o.validPlatform("mac")||o.validPlatform("window")),a(),c("ngIf",o.validPlatform("iphone")||o.validPlatform("ipad")||o.validPlatform("andriod")))},dependencies:[R,B,J,Z,$,G,X,Y,te,ne,oe,re,ie,H],styles:['[_nghost-%COMP%]     .p-element{width:100%!important}.bg-image[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover}.card[_ngcontent-%COMP%]{filter:blur(0px)!important;z-index:10}.border-custom[_ngcontent-%COMP%]{border-bottom-left-radius:50px!important;padding-left:10%;padding-bottom:5%;padding-right:5%}.border-custom-login-card[_ngcontent-%COMP%]{border-radius:50px 50px 0 0/50px 50px 0px 0px}[_nghost-%COMP%]     .p-dropdown{width:100%!important}[_nghost-%COMP%]     .p-dropdown .p-inputtext{width:100%!important}[_nghost-%COMP%]     .p-dropdown-trigger{display:block;justify-content:end;align-items:end}.cover-photo[_ngcontent-%COMP%]{background-image:url("./media/bg-image-W5FQHEKA.png");background-position:center;background-repeat:no-repeat;background-size:cover;min-height:100dvh;min-width:100dvw}.main[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;width:100%}.element[_ngcontent-%COMP%]{background-color:#ffffff80;backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px)}.btn-element[_ngcontent-%COMP%]{background-color:#a5dd9be6;backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px)}.brand-label[_ngcontent-%COMP%]{position:absolute;top:0;right:0}']})}}return t})();var we=[{path:"",component:se,pathMatch:"full"}],le=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=L({type:t})}static{this.\u0275inj=y({imports:[D.forChild(we),D]})}}return t})();var Ge=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=L({type:t})}static{this.\u0275inj=y({providers:[O],imports:[z,le,ee,O]})}}return t})();export{Ge as LoginModule};
