import{a as ye}from"./chunk-BOVIATWC.js";import{a as qe,b as Pe}from"./chunk-GMEX3DA7.js";import{a as ue}from"./chunk-5RFON5EB.js";import{a as fe}from"./chunk-UHHRNZXI.js";import{a as $e}from"./chunk-PCXME24H.js";import{a as Ie,c as Ue}from"./chunk-YXE53BZZ.js";import{b as he}from"./chunk-T7M7Z6SU.js";import{a as Z}from"./chunk-EXF3M4J6.js";import"./chunk-XFGMMR5A.js";import{B as Oe,C as Y,D as je,E as He,I as _e,J as ge,K as V,c as pe,g as me,r as Fe,s as Ve,t as N,u as ke,v as K,z as We}from"./chunk-A34WLQ27.js";import{b as oe,d as re,e as le,g as se,h as de,i as ce,l as $}from"./chunk-OCIRHO6A.js";import{a as G,b as A,c as F}from"./chunk-6XXP7TRA.js";import{g as X,j as De}from"./chunk-3RSPD7AX.js";import{k as Re,m as O,n as j,q as H,r as q,t as U,z as Ne}from"./chunk-N4ANQEKW.js";import{Db as b,Eb as p,Hb as R,Ib as Me,Ma as o,Na as L,Ob as B,Pb as l,Q as Ae,Qb as f,R as ie,Rb as S,Sb as z,Tb as be,Ub as P,V as xe,Vb as w,Wb as T,Xb as ae,Ya as k,Yb as W,Za as ne,Zb as Se,ca as _,cb as h,da as g,fc as x,gc as D,hc as E,nb as c,qb as M,sb as Be,tb as n,ub as a,vb as u,wb as v,xb as C,zb as I}from"./chunk-ZPID5U3R.js";function at(t,d){if(t&1){let e=I();n(0,"div",9)(1,"div",10),b("click",function(){_(e);let i=p().$implicit,s=p(2);return g(s.showAttributeListDialog(i))}),n(2,"div",11),u(3,"img",12),n(4,"div",13)(5,"h6"),l(6),a(),n(7,"div",14)(8,"small")(9,"strong"),l(10),x(11,"date"),a()(),n(12,"small")(13,"strong"),l(14),x(15,"uppercase"),a()()()()()()()}if(t&2){let e=p().$implicit;o(6),f(e.ProcName),o(4),f(E(11,3,e.ProcDate,"dd/MM/yyyy hh:mm a")),o(4),f(e.CreatedBy?e.CreatedBy:D(15,6,"?"))}}function ot(t,d){if(t&1&&(v(0),h(1,at,16,8,"div",8),C()),t&2){let e=d.$implicit;o(),c("ngIf",e.Remarks.toLowerCase()!=="doctor notes"&&e.Remarks.toLowerCase()!=="sister notes")}}function rt(t,d){if(t&1&&(n(0,"div",6),h(1,ot,2,1,"ng-container",7),a()),t&2){let e=p();o(),c("ngForOf",e.admissionList)}}function lt(t,d){if(t&1){let e=I();v(0),n(1,"div",9)(2,"div",10),b("click",function(){let i=_(e).$implicit,s=p(3);return g(s.loadNotesListByNoteTypeAppointmentId(i.ProcName))}),n(3,"div",11),u(4,"img",12),n(5,"div",13)(6,"h6"),l(7),a(),n(8,"div",14)(9,"small")(10,"strong"),l(11),x(12,"uppercase"),a()(),n(13,"small")(14,"strong"),l(15),a()()()()()()(),C()}if(t&2){let e=d.$implicit,r=p(3);o(7),f(e.ProcName),o(4),f(D(12,3,r.isNote)),o(4),S("(",e.noofentries,")")}}function st(t,d){if(t&1&&(v(0),h(1,lt,16,5,"ng-container",7),C()),t&2){let e=p(2);o(),c("ngForOf",e.admissionList)}}function dt(t,d){if(t&1&&(v(0),n(1,"div",20)(2,"div",21)(3,"strong"),l(4),x(5,"uppercase"),a(),n(6,"div",22)(7,"strong"),l(8),x(9,"date"),a(),n(10,"strong"),l(11),x(12,"uppercase"),a()(),n(13,"strong",23),l(14),a()()(),C()),t&2){let e=d.$implicit;o(4),S(" ",D(5,4,e.CreatedBy)," "),o(4),S(" ",E(9,6,e.ProcDate,"dd/MMM/yy")," "),o(3),S(" ",D(12,9,e.Remarks)," "),o(3),S(" ",e.data," ")}}function ct(t,d){if(t&1&&(n(0,"div",19),h(1,dt,15,11,"ng-container",7),a()),t&2){let e=p(2);o(),c("ngForOf",e.notesList)}}function pt(t,d){if(t&1){let e=I();n(0,"div",6)(1,"div",15)(2,"button",16),b("click",function(){_(e);let i=p();return g(i.loadLastAppointmentId())}),l(3,"Add New +"),a()(),h(4,st,2,1,"ng-container",17)(5,ct,2,1,"div",18),a()}if(t&2){let e=p();o(4),c("ngIf",!e.showNotesListModal),o(),c("ngIf",e.notesList.length&&e.showNotesListModal)}}var ee=(()=>{class t{constructor(e,r,i,s){this._admissionServices=e,this._dialogConfig=r,this._dialogService=i,this._router=s,this.admissionList=[],this.admissionId=0,this.isNote="",this.notesList=[],this.showNotesListModal=!1}ngOnInit(){debugger;let e=this._dialogConfig.data||null;e&&(this.admissionId=e.admissionId,this.isNote="",e.type&&e.type!=null&&(this.isNote=e.type),this.isNote.toLowerCase().trim().includes("note")?this.loadNotesListByAdmissionIdNoteType():this.loadAdmissionListByAdmissionId())}loadAdmissionListByAdmissionId(){this._admissionServices.getAddmissionHistoryByPatientAdmissionId(this.admissionId).subscribe(e=>{console.log(e),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.admissionList=[],this.admissionList=e.dataSet.Table)},e=>{console.error(e)})}loadNotesListByAdmissionIdNoteType(){this._admissionServices.getNoteHistoryByPatientAdmissionIdNoteType(this.admissionId,this.isNote).subscribe(e=>{console.log(e),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.admissionList=[],this.admissionList=e.dataSet.Table)},e=>{console.error(e)})}loadLastAppointmentId(){this._admissionServices.getLastAppointmentId().subscribe(e=>{if(e.Status.toLowerCase().includes("success")&&e.noofREcords){let r=e.dataSet.Table[0].AppointmentId||0;r>0&&(r=r+1,this.addNewNote(r))}},e=>{console.error(e),alert("Plese check logs.")})}addNewNote(e){this._router.navigate(["feature/ipd/discharge-summary"],{state:{procId:e||0,patientId:history.state.patientId||0,admissionId:this.admissionId||0,hospitalSection:G.hospitalSection,noteType:this.isNote},queryParams:{procId:e||0,patientId:history.state.patientId||0,admissionId:this.admissionId||0,noteType:this.isNote}}),this._dialogService.dialogComponentRefMap.forEach(r=>{r.destroy()})}showAttributeListDialog(e){console.log(e);debugger;if(e.AdmissionProcId||this.isNote.toLowerCase().trim().includes("note")){let r=this.isNote.toLowerCase().trim().includes("note")?this.admissionId||0:e.AdmissionProcId;this._router.navigate(["feature/ipd/discharge-summary"],{state:{procId:r,patientId:history.state.patientId||0,admissionId:this.admissionId||0,hospitalSection:G.hospitalSection,noteType:this.isNote},queryParams:{procId:r,patientId:history.state.patientId||0,admissionId:this.admissionId||0,noteType:this.isNote}}),this._dialogService.dialogComponentRefMap.forEach(i=>{i.destroy()})}else alert("Please provide proper Proc Id, "+e.AdmissionProcId)}loadDischargeSummarySet(){}loadNotesListByNoteTypeAppointmentId(e){this._admissionServices.getNotesList(this.isNote,this.admissionId,e,e).subscribe(r=>{console.log(r),r.Status.toLowerCase().includes("success")&&r.noofREcords&&(console.log(r),this.notesList=[],this.notesList=r.dataSet.Table||[],this.notesList.forEach(i=>{debugger;i.data.includes("save= Click to Save")&&(i.data=i.data.replaceAll("save= Click to Save",""))}),this.showNotesListModal=!0)},r=>{console.error(r)})}static{this.\u0275fac=function(r){return new(r||t)(L(he),L(N),L(K),L(X))}}static{this.\u0275cmp=k({type:t,selectors:[["app-admission-history"]],features:[ae([V])],decls:9,vars:2,consts:[["op",""],["class","row",4,"ngIf"],[1,"flex","flex-column","gap-3","w-auto"],["type","button",1,"btn","btn-sm","p-button","p-button-raised","btn-info"],[1,"flex","flex-row","justify-content-center","gap-2"],["src","assets/images/details.png","height","20px","alt","","srcset","",2,"color","white"],[1,"row"],[4,"ngFor","ngForOf"],["class","col-12 mb-2",4,"ngIf"],[1,"col-12","mb-2"],[1,"card","shadow-8","rounded-5","p-3","w-100",3,"click"],[1,"flex","flex-row","gap-2","h-100","w-100","align-items-center"],["src","assets/images/medical-history.png","height","45px","alt",""],[1,"flex","flex-column","w-100"],[1,"flex","justify-content-between","w-100"],[1,"col-12","text-end","mb-2"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],["class","col-12","style","max-width: 50dvw !important;",4,"ngIf"],[1,"col-12",2,"max-width","50dvw !important"],[1,"card","shadow-lg","border-0","p-2","mb-2","w-100"],[1,"d-flex","flex-column","gap-1"],[1,"d-flex","flex-row","justify-content-between"],[1,"d-flex","flex-wrap"]],template:function(r,i){r&1&&(h(0,rt,2,1,"div",1)(1,pt,6,2,"div",1),n(2,"p-overlayPanel",null,0)(4,"div",2)(5,"button",3)(6,"strong",4),u(7,"img",5),l(8," Details "),a()()()()),r&2&&(c("ngIf",!i.isNote.includes("note")),o(),c("ngIf",i.isNote.includes("note")))},dependencies:[U,O,j,H,q,$,V,Y],encapsulation:2})}}return t})();var ve=class{constructor(){this.filterType="",this.filterValue="",this.filterKeyValue="",this.filterValueList=[]}};var J=class{constructor(){this.EntityId=0,this.EntityName="",this.AlternateName="",this.EntityTypeId=0,this.PrimaryId1="",this.PrimaryId2="",this.IdCreatedDate="",this.PrimaryFld1="",this.PrimaryFld2="",this.PrimaryFld3="",this.PrimaryFld4="",this.Active="",this.CreatedBy=0,this.CreatedAt="",this.ExternalCategory="",this.IsSync=0,this.RegNo="",this.Payer="",this.TPA="",this.AadharCard="",this.Salutation="",this.GuardianName="",this.LMP="",this.Relation="",this.MaritalStatus="",this.AdditionalDetails="",this.hcn="",this.oldentityid="",this.State="",this.Country="",this.json="",this.oldSoft="",this.creditsum=0,this.debitsum=0,this.CreditClosingbal=0,this.DebitClosingBal=0,this.dropebal=0,this.cropebal=0}};function ht(t,d){if(t&1&&(n(0,"div",6)(1,"strong",34)(2,"i"),l(3,"Doctor Name"),a()(),n(4,"h5"),l(5),x(6,"uppercase"),a()()),t&2){let e=p(4);o(5),f(D(6,1,e.caseDetail.Consultant))}}function ut(t,d){if(t&1){let e=I();n(0,"div",45)(1,"strong",46)(2,"i"),l(3,"Path Lab:"),a()(),n(4,"select",47),T("ngModelChange",function(i){_(e);let s=p(4);return w(s.selectedPathLabId,i)||(s.selectedPathLabId=i),g(i)}),n(5,"option",48),l(6,"Select Path Lab"),a()()()}if(t&2){let e=p(4);o(4),P("ngModel",e.selectedPathLabId)}}function ft(t,d){if(t&1&&(n(0,"tr")(1,"td")(2,"strong",49)(3,"i"),l(4,"Path Case No:"),a()()(),n(5,"td")(6,"strong")(7,"u"),l(8),x(9,"uppercase"),a()()()()),t&2){let e=p(4);o(8),f(D(9,1,e.pathTestDetail.IPCaseNo))}}function yt(t,d){t&1&&u(0,"img",50)}function vt(t,d){if(t&1&&(n(0,"strong")(1,"u"),l(2),x(3,"date"),a()()),t&2){let e=p(4);o(2),f(E(3,1,e.pathTestDetail.BillDate,"dd/MM/yyyy"))}}function Ct(t,d){t&1&&(n(0,"strong")(1,"u"),l(2,"No date..."),a()())}function xt(t,d){if(t&1&&(n(0,"strong")(1,"u"),l(2),a()()),t&2){let e=p(4);o(2),f(e.caseDetail.PrimaryFld1)}}function bt(t,d){t&1&&(n(0,"strong")(1,"u"),l(2,"?"),a()())}function St(t,d){if(t&1&&(n(0,"div",31)(1,"div",32)(2,"div",33)(3,"div",6)(4,"strong",34)(5,"i"),l(6,"Patient Name"),a(),l(7),x(8,"uppercase"),a(),n(9,"h5"),l(10),x(11,"uppercase"),a()(),h(12,ht,7,3,"div",35)(13,ut,7,1,"div",36),a(),n(14,"small")(15,"table",37)(16,"tbody"),h(17,ft,10,3,"tr",3),n(18,"tr")(19,"td")(20,"strong",38)(21,"i"),l(22,"Case No:"),a()()(),n(23,"td")(24,"strong")(25,"u"),l(26),x(27,"uppercase"),a()()()(),n(28,"tr")(29,"td")(30,"strong",38)(31,"i"),l(32,"Bed No:"),a()()(),n(33,"td")(34,"strong")(35,"u"),l(36),x(37,"uppercase"),x(38,"uppercase"),a()()()(),n(39,"tr")(40,"td",39)(41,"div",40)(42,"div",41)(43,"strong",38)(44,"i"),l(45,"Admission Date:"),a()(),n(46,"div",42)(47,"strong",43)(48,"u"),l(49),x(50,"date"),a()(),h(51,yt,1,0,"img",44),a()(),n(52,"div",41)(53,"strong",38)(54,"i"),l(55,"Path Bill Date:"),a()(),h(56,vt,4,4,"strong",3)(57,Ct,3,0,"strong",3),a(),n(58,"div",41)(59,"strong",38)(60,"i"),l(61,"Contact No:"),a()(),h(62,xt,3,1,"strong",3)(63,bt,3,0,"strong",3),a()()()()()()()()()),t&2){let e=p(3);o(7),be(" (",D(8,17,e.patientDetail.PrimaryFld2),") (",e.patientDetail.PrimaryId1,") (",e.patientDetail.ExternalCategory,")"),o(3),f(D(11,19,e.patientDetail.EntityName)),o(2),c("ngIf",e.caseDetail),o(),c("ngIf",e.caseDetail),o(4),c("ngIf",e.pathTestDetail.BillNo>0),o(9),f(D(27,21,e.caseDetail.IPDNO)),o(10),z("",D(37,23,e.caseDetail.Bed)," (",D(38,25,e.caseDetail.location),")"),o(11),c("ngClass",e.caseDetail.AdmissionDate.split("T")[0]!==e.pathTestDetail.AdmissionDate.split("T")[0]?"text-red-900":""),o(2),f(E(50,27,e.caseDetail.AdmissionDate,"dd/MM/yyyy")),o(2),c("ngif",e.caseDetail.AdmissionDate.split("T")[0]!==e.pathTestDetail.AdmissionDate.split("T")[0]),o(5),c("ngIf",e.pathTestDetail.BillDate),o(),c("ngIf",!e.pathTestDetail.BillDate),o(5),c("ngIf",e.caseDetail.PrimaryFld1),o(),c("ngIf",!e.caseDetail.PrimaryFld1)}}function Dt(t,d){if(t&1){let e=I();n(0,"button",51),b("click",function(){_(e),p();let i=B(10),s=p(2);return i.value="",g(s.filterPathTest())}),u(1,"i",52),a()}}function It(t,d){if(t&1){let e=I();v(0),n(1,"div",53)(2,"div",5)(3,"div",54)(4,"strong"),l(5),a()(),n(6,"small",55)(7,"div",56)(8,"strong",57),l(9),x(10,"uppercase"),a(),n(11,"div",58)(12,"strong",59)(13,"i"),l(14),x(15,"date"),a()(),n(16,"strong",60),u(17,"i",61),l(18,": "),n(19,"u")(20,"i"),l(21),a()()()()()()(),n(22,"div",62)(23,"img",63),b("click",function(i){let s=_(e).$implicit,y=p(4);return B(35).toggle(i),g(y.selectedDeletingBillItemId=s.BillDetailId)}),a()()(),C()}if(t&2){let e=d.$implicit,r=d.index;o(5),f(r+1),o(4),f(D(10,4,e.HeadDesc)),o(5),f(E(15,6,e.Date,"dd/MM/yyyy")),o(7),f(e.Amount)}}function Pt(t,d){if(t&1&&(v(0),n(1,"div",29),h(2,It,24,9,"ng-container",30),a(),C()),t&2){let e=p(3);o(2),c("ngForOf",e.pathTestList)}}function wt(t,d){t&1&&(v(0),n(1,"div",64),u(2,"img",65),n(3,"h4")(4,"i"),l(5,"There is no test added, yet!"),a()(),n(6,"strong",66),l(7,"Please add,"),a(),n(8,"strong",66),l(9,"if patient need any!"),a()(),C())}function Tt(t,d){if(t&1){let e=I();n(0,"button",51),b("click",function(){_(e),p();let i=B(10),s=p(2);return i.value="",g(s.filterPathTest())}),u(1,"i",52),a()}}function Et(t,d){if(t&1){let e=I();v(0),n(1,"div",67),b("dblclick",function(){let i=_(e).$implicit,s=p(3);return g(s.doubleClickMouseSavePathTest(i))}),n(2,"div",5)(3,"div",54)(4,"strong"),l(5),a()(),n(6,"small",55)(7,"div",56)(8,"strong",57),l(9),x(10,"uppercase"),a(),n(11,"div",58)(12,"strong",59)(13,"i"),l(14),x(15,"uppercase"),a()(),n(16,"strong",60),u(17,"i",61),l(18,": "),n(19,"u")(20,"i"),l(21),a()()()()()()(),n(22,"div",68)(23,"img",69),b("click",function(i){let s=_(e).$implicit,y=p(3);return B(4).toggle(i),g(y.setSelectedBillItemChargeDetail(s))}),a()()(),C()}if(t&2){let e=d.$implicit,r=d.index;o(5),f(r+1),o(4),f(D(10,4,e.TestName)),o(5),f(D(15,6,e.Remarks)),o(7),f(e.Amount)}}function Lt(t,d){if(t&1){let e=I();n(0,"div",18),h(1,St,64,30,"div",19),n(2,"div",20)(3,"div",21)(4,"div",6)(5,"div",22)(6,"strong"),l(7),a(),n(8,"div",23)(9,"input",24,2),b("keyup",function(){_(e);let i=B(10),s=p(2);return g(s.filterPathTest(i.value))}),a(),h(11,Dt,2,0,"button",25),a()(),h(12,Pt,3,1,"ng-container",3)(13,wt,10,0,"ng-container",3),a()(),n(14,"div",26)(15,"div",6)(16,"div",22)(17,"strong"),l(18),a(),n(19,"div",23)(20,"input",24,2),b("keyup",function(){_(e);let i=B(10),s=p(2);return g(s.filterPathTest(i.value))}),a(),h(22,Tt,2,0,"button",25),a()(),n(23,"small",27)(24,"strong",28),l(25," Double click to add test or click plus icon. "),a()(),n(26,"div",29),h(27,Et,24,8,"ng-container",30),a()()()()()}if(t&2){let e=B(10),r=p(2);o(),c("ngIf",r.patientDetail.EntityId>0),o(6),S("Requested Test List (",r.pathTestList.length,")"),o(2),c("disabled",!r.pathTestList.length),o(2),c("ngIf",e.value.length),o(),c("ngIf",r.pathTestList.length),o(),c("ngIf",!r.pathTestList.length),o(5),S("Test List (",r.filteredPathTestList.length,")"),o(2),c("disabled",!r.testList.length),o(2),c("ngIf",e.value.length),o(5),c("ngForOf",r.filteredPathTestList)}}function At(t,d){t&1&&(v(0),h(1,Lt,28,10,"div",17),C()),t&2&&(o(),c("ngIf",!1))}function Bt(t,d){t&1&&(n(0,"div")(1,"div",70)(2,"h5"),l(3,"This feature is in,"),a(),n(4,"h4")(5,"i"),l(6,"Development"),a()(),n(7,"strong"),l(8,"Coming Soon!"),a()()())}function Mt(t,d){if(t&1&&(n(0,"div",6)(1,"strong",34)(2,"small")(3,"i"),l(4,"Doctor Name"),a()()(),n(5,"h5"),l(6),x(7,"uppercase"),a()()),t&2){let e=p(2);o(6),f(D(7,1,e.caseDetail.Consultant))}}function Rt(t,d){t&1&&u(0,"img",50)}function Nt(t,d){t&1&&u(0,"img",50)}function Ft(t,d){if(t&1&&(n(0,"strong")(1,"u"),l(2),x(3,"date"),a()()),t&2){let e=p(2);o(2),f(E(3,1,e.pathTestDetail.BillDate,"dd/MM/yyyy"))}}function Vt(t,d){t&1&&(n(0,"strong")(1,"u"),l(2,"No date..."),a()())}function kt(t,d){if(t&1&&(n(0,"strong")(1,"u"),l(2),a()()),t&2){let e=p(2);o(2),f(e.caseDetail.PrimaryFld1)}}function Wt(t,d){t&1&&(n(0,"strong")(1,"u"),l(2,"?"),a()())}function Ot(t,d){if(t&1&&(n(0,"strong",83),l(1),a()),t&2){let e=p(2);o(),S("Requested Test List (",e.pathTestList.length,")")}}function jt(t,d){if(t&1&&(n(0,"strong",83),l(1),a()),t&2){let e=p(2);o(),S("Test List (",e.filteredPathTestList.length,")")}}function Ht(t,d){if(t&1){let e=I();n(0,"button",51),b("click",function(){_(e),p();let i=B(5),s=p(2);return i.value="",g(s.filterPathTest())}),u(1,"i",52),a()}}function qt(t,d){if(t&1){let e=I();v(0),n(1,"div",53)(2,"div",5)(3,"div",54)(4,"strong"),l(5),a()(),n(6,"small",55)(7,"div",56)(8,"strong",57),l(9),x(10,"uppercase"),a(),n(11,"div",58)(12,"strong",59)(13,"i"),l(14),x(15,"date"),a()(),n(16,"strong",60),u(17,"i",61),l(18,": "),n(19,"u")(20,"i"),l(21),a()()()()()()(),n(22,"div",62)(23,"img",63),b("click",function(i){let s=_(e).$implicit,y=p(4);return B(35).toggle(i),g(y.selectedDeletingBillItemId=s.BillDetailId)}),a()()(),C()}if(t&2){let e=d.$implicit,r=d.index;o(5),f(r+1),o(4),f(D(10,4,e.HeadDesc)),o(5),f(E(15,6,e.Date,"dd/MM/yyyy")),o(7),f(e.Amount)}}function Ut(t,d){if(t&1&&(v(0),n(1,"div",29),h(2,qt,24,9,"ng-container",30),a(),C()),t&2){let e=p(3);o(2),c("ngForOf",e.pathTestList)}}function $t(t,d){t&1&&(v(0),n(1,"div",64),u(2,"img",65),n(3,"h4")(4,"i"),l(5,"There is no test added, yet!"),a()(),n(6,"strong",66),l(7,"Please add,"),a(),n(8,"strong",66),l(9,"if patient need any!"),a()(),C())}function Kt(t,d){if(t&1){let e=I();n(0,"div",84)(1,"div",6)(2,"div",22)(3,"div",85)(4,"input",86,2),b("keyup",function(){_(e);let i=B(5),s=p(2);return g(s.filterPathTest(i.value))}),a(),h(6,Ht,2,0,"button",25),a()(),h(7,Ut,3,1,"ng-container",3)(8,$t,10,0,"ng-container",3),a()()}if(t&2){let e=B(5),r=p(2);o(4),c("disabled",!r.pathTestList.length),o(2),c("ngIf",e.value.length),o(),c("ngIf",r.pathTestList.length),o(),c("ngIf",!r.pathTestList.length)}}function Yt(t,d){if(t&1){let e=I();n(0,"button",51),b("click",function(){_(e),p();let i=B(5),s=p(2);return i.value="",g(s.filterPathTest())}),u(1,"i",52),a()}}function zt(t,d){if(t&1){let e=I();v(0),n(1,"div",67),b("dblclick",function(){let i=_(e).$implicit,s=p(3);return g(s.doubleClickMouseSavePathTest(i))}),n(2,"div",5)(3,"div",54)(4,"strong"),l(5),a()(),n(6,"small",55)(7,"div",56)(8,"strong",57),l(9),x(10,"uppercase"),a(),n(11,"div",58)(12,"strong",59)(13,"i"),l(14),x(15,"uppercase"),a()(),n(16,"strong",60),u(17,"i",61),l(18,": "),n(19,"u")(20,"i"),l(21),a()()()()()()(),n(22,"div",68)(23,"img",69),b("click",function(i){let s=_(e).$implicit,y=p(3);return B(4).toggle(i),g(y.setSelectedBillItemChargeDetail(s))}),a()()(),C()}if(t&2){let e=d.$implicit,r=d.index;o(5),f(r+1),o(4),f(D(10,4,e.TestName)),o(5),f(D(15,6,e.Remarks)),o(7),f(e.Amount)}}function Gt(t,d){if(t&1){let e=I();n(0,"div",87)(1,"div",6)(2,"div",22)(3,"div",85)(4,"input",86,2),b("keyup",function(){_(e);let i=B(5),s=p(2);return g(s.filterPathTest(i.value))}),a(),h(6,Yt,2,0,"button",25),a()(),n(7,"small",27)(8,"strong",88),l(9," Double click to add test or click plus icon. "),a()(),n(10,"div",29),h(11,zt,24,8,"ng-container",30),a()()()}if(t&2){let e=B(5),r=p(2);o(4),c("disabled",!r.testList.length),o(2),c("ngIf",e.value.length),o(5),c("ngForOf",r.filteredPathTestList)}}function Jt(t,d){if(t&1){let e=I();v(0),n(1,"div",6)(2,"div",71)(3,"div",6)(4,"strong",34)(5,"small")(6,"i"),l(7,"Patient Name"),a(),l(8),x(9,"uppercase"),a()(),n(10,"h5"),l(11),x(12,"uppercase"),a()(),n(13,"div",72),u(14,"img",73),a()(),u(15,"hr",74),n(16,"div",71),h(17,Mt,8,3,"div",35),n(18,"div",72),u(19,"img",73),a()(),u(20,"hr",74),n(21,"div",75)(22,"div",76)(23,"strong",38)(24,"small")(25,"i"),l(26,"Admission Date:"),a()()(),n(27,"div",42)(28,"strong",43)(29,"u"),l(30),x(31,"date"),a()(),h(32,Rt,1,0,"img",44)(33,Nt,1,0,"img",44),a()(),n(34,"div",76)(35,"strong",38)(36,"small")(37,"i"),l(38,"Path Bill Date:"),a()()(),h(39,Ft,4,4,"strong",3)(40,Vt,3,0,"strong",3),a(),n(41,"div",76)(42,"strong",38)(43,"small")(44,"i"),l(45,"Contact No:"),a()()(),h(46,kt,3,1,"strong",3)(47,Wt,3,0,"strong",3),a()(),u(48,"hr",74),n(49,"div",77)(50,"div",78),h(51,Ot,2,1,"strong",79)(52,jt,2,1,"strong",79),a(),n(53,"p-selectButton",80),T("ngModelChange",function(i){_(e);let s=p();return w(s.value,i)||(s.value=i),g(i)}),a()(),h(54,Kt,9,4,"div",81)(55,Gt,12,3,"div",82),a(),C()}if(t&2){let e=p();o(8),be(" (",D(9,19,e.patientDetail.PrimaryFld2),") (",e.patientDetail.PrimaryId1,") (",e.patientDetail.ExternalCategory,") "),o(3),f(D(12,21,e.patientDetail.EntityName)),o(6),c("ngIf",e.caseDetail),o(11),c("ngClass",e.caseDetail.AdmissionDate.split("T")[0]!==e.pathTestDetail.AdmissionDate.split("T")[0]?"text-red-900":""),o(2),f(E(31,23,e.caseDetail.AdmissionDate,"dd/MM/yyyy")),o(2),c("ngif",e.caseDetail.AdmissionDate.split("T")[0]!==e.pathTestDetail.AdmissionDate.split("T")[0]||e.pathTestDetail.BillNo===0),o(),c("ngif",e.pathTestDetail.BillNo===0),o(6),c("ngIf",e.pathTestDetail.BillDate),o(),c("ngIf",!e.pathTestDetail.BillDate),o(6),c("ngIf",e.caseDetail.PrimaryFld1),o(),c("ngIf",!e.caseDetail.PrimaryFld1),o(4),c("ngIf",e.value.toLowerCase().includes("requested")),o(),c("ngIf",e.value.toLowerCase().includes("test")),o(),c("options",e.stateOptions),P("ngModel",e.value),o(),c("ngIf",e.value.toLowerCase().includes("requested")),o(),c("ngIf",e.value.toLowerCase().includes("test"))}}var ze=(()=>{class t{constructor(e,r,i,s,y){this._billServices=e,this._dynamicDialoge=r,this._commonServices=i,this._patientServices=s,this._pathServices=y,this.billTypeList=[],this.billSubTypeList=[],this.selectedBillType="",this.selectedBillSubType="",this.caseDetail=null,this.testList=[],this.selectedPathLabId="",this.filteredPathTestList=[],this.patientDetail=new J,this.pathTestList=[],this.pathTestDetail=new Ie,this.billItemCharge=new $e,this.selectedDeletingBillItemId=0,this.reasonForDeleteBillItemDetail="",this.stateOptions=[{label:"Requested",value:"requested"},{label:"Tests",value:"tests"}],this.value="requested"}ngOnInit(){let e=this._dynamicDialoge.data;console.log(e),console.log(this._dynamicDialoge),e&&e!==void 0&&this.loadPatientDetailByPatientId(e.ipdPatientDetail.EntityId),console.log(history),!e&&e===void 0&&(this.loadPatientDetailByPatientId(history.state.patientId),this.caseDetail=history.state.caseDetail),this.loadPathLabTestList(),this.caseDetail&&(this.loadPathTestListByPatientIdCaseId(),this.loadPathTestDetailByPatientIdCaseId())}loadRateTypeList(){this._billServices.getRateTypeList().subscribe(e=>{e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.billTypeList=[],e.dataSet.Table.forEach(r=>{r.ListItem&&this.billTypeList.push(r.ListItem)}),this.selectedBillType=this.billTypeList[0]||"",this.loadSubRateTypeList())},e=>{console.error(e),alert("Please check log, for more detail.")})}loadSubRateTypeList(){this._billServices.getSubRateTypeList().subscribe(e=>{e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.billSubTypeList=[],e.dataSet.Table.forEach(r=>{r.ListItem&&(r.ListItem.toLowerCase().includes("path")&&(this.selectedBillSubType=r.ListItem||""),this.billSubTypeList.push(r.ListItem))}),this.selectedBillSubType=this.selectedBillSubType.toLowerCase().includes("path")?this.selectedBillSubType:this.billSubTypeList[0],this.loadRateListByRateTypeAndRateSubType())},e=>{console.error(e),alert("Please check log, for more detail.")})}loadRateListByRateTypeAndRateSubType(){console.log("Type =>",this.billTypeList),console.log("Sub Type=>",this.billSubTypeList),this._billServices.getRateListByRateTypeRateSubType(this.selectedBillType,this.selectedBillSubType).subscribe(e=>{console.log(e),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.testList=[],this.testList=e.dataSet.Table)},e=>{console.error(e),alert("Please check log, for more detail.")})}loadPathLabTestList(){this._billServices.getPathTestList(this.selectedPathLabId).subscribe(e=>{console.log(e),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.testList=[],this.testList=e.dataSet.Table,this.filterPathTest())},e=>{console.error(e),alert("Please check log, for more detail.")})}filterPathTest(e){let r=[];this.testList.length?e?(this.testList.forEach(i=>{i.TestName.toLowerCase().includes(e.toLowerCase())&&r.push(i)}),this.filteredPathTestList=r):this.filteredPathTestList=this.testList:alert("Please add path test, to get test list.")}validPlatform(e){return this._commonServices.checkPlatform(e)}loadPatientDetailByPatientId(e){this._patientServices.getPatientDetailsByPatientId(e).subscribe(r=>{console.log(r),r.Status.toLowerCase().includes("success")&&(this.patientDetail=new J,this.patientDetail=r.dataSet.Table[0])},r=>{console.error(r),alert("Please check log, for more detail.")})}loadPathTestListByPatientIdCaseId(){this.caseDetail?this._pathServices.getPathTestListByCaseIdAndPatientId(this.caseDetail.EntityId,this.caseDetail.AppointmentId).subscribe(e=>{console.log("Path Test List =>",e),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.pathTestList=[],this.pathTestList=e.dataSet.Table)},e=>{console.error(e),alert("Please check log, for more detail.")}):alert("Please check log, Unable to load path test list...")}loadPathTestDetailByPatientIdCaseId(){this.caseDetail?this._pathServices.getPathTestDetailByCaseIdAndPatientId(this.caseDetail.EntityId,this.caseDetail.AppointmentId).subscribe(e=>{console.log("Path Test Detail =>",e),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.pathTestDetail=new Ie,e.noofREcords===1?this.pathTestDetail=e.dataSet.Table[0]:alert("Found many entires for current appointment =>"+this.caseDetail.AppointmentId+", patient =>"+this.caseDetail.EntityId))},e=>{console.error(e),alert("Please check log, for more detail.")}):alert("Please check log, Unable to load path test list...")}calculateFinalRateAmount(){this.billItemCharge.Amount=(Number(this.billItemCharge.Unit)*Number(this.billItemCharge.Rate)).toString()}saveBillItem(){this.billItemCharge.BillNo=this.pathTestDetail.BillNo.toString(),this.billItemCharge.SeqNo=this.pathTestList.length.toString(),this._billServices.saveBillItemCharges(this.billItemCharge).subscribe(e=>{if(console.log(e),e.Status.toLowerCase().includes("success")){this.loadPathTestListByPatientIdCaseId();let r=document.getElementById("addChargeWithUnitNoteHide")?.click()}if(e.Status.toLowerCase().includes("failed")){this.loadPathTestListByPatientIdCaseId();let r=document.getElementById("addChargeWithUnitNoteHide")?.click()}},e=>{console.error(e),alert("Please check log, for more detail.")})}setSelectedBillItemChargeDetail(e){this.billItemCharge.HeadDesc=e.TestName,this.billItemCharge.Code=e.PathTestId.toString(),this.billItemCharge.Rate=e.Amount.toString(),this.billItemCharge.Amount=e.Amount.toString(),this.billItemCharge.RateId=e.PathTestId.toString()}doubleClickMouseSavePathTest(e){this.setSelectedBillItemChargeDetail(e),setTimeout(()=>{this.saveBillItem()},500)}deleteBillItemByBillItemIdBillNo(){this.reasonForDeleteBillItemDetail?this._billServices.deleteBillItem(this.selectedDeletingBillItemId,this.pathTestDetail.BillNo,this.reasonForDeleteBillItemDetail).subscribe(e=>{console.log(e),document.getElementById("reasonForDeleteBillItemHide")?.click(),this.reasonForDeleteBillItemDetail="",e.Status.toLowerCase().includes("success")&&this.loadPathTestListByPatientIdCaseId(),e.Status.toLowerCase().includes("failed")&&this.loadPathTestListByPatientIdCaseId()},e=>{console.error(e),alert("Please check log, for more detail."),this.reasonForDeleteBillItemDetail=""}):(alert("Please add reason for delete?"),document.getElementById("reasonForDeleteBillItemInput")?.focus())}static{this.\u0275fac=function(r){return new(r||t)(L(Ue),L(N),L(F),L(Z),L(ue))}}static{this.\u0275cmp=k({type:t,selectors:[["app-path-report-detail"]],features:[ae([N])],decls:48,vars:9,consts:[["addChargeWithUnitNote",""],["reasonForDeleteBillItem",""],["searchPathTest",""],[4,"ngIf"],[1,"d-flex","flex-column",2,"max-width","300px"],[1,"d-flex","flex-row","gap-1"],[1,"d-flex","flex-column"],["type","text",1,"form-control","form-control-sm",3,"ngModelChange","keyup","ngModel"],[1,"d-flex","flex-column","w-50"],["name","","id","","rows","3","cols","3",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["type","text","disabled","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-around","mt-2"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],["type","button","id","addChargeWithUnitNoteHide",1,"btn","btn-sm","btn-danger",3,"click"],["id","reasonForDeleteBillItemInput","type","text",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-sm","btn-success",3,"click","disabled"],["type","button","id","reasonForDeleteBillItemHide",1,"btn","btn-sm","btn-danger",3,"click"],["class","d-flex flex-column gap-1",4,"ngIf"],[1,"d-flex","flex-column","gap-1"],["class","card rounded-3 shadow-lg w-100 border-2 border-primary p-1","style","min-height: 100px;",4,"ngIf"],[1,"d-flex","flex-row","gap-1","w-100"],[1,"card","border-2","rounded-3","shadow-lg","w-50","border-warning","p-2",2,"min-height","500px"],[1,"d-flex","justify-content-between","align-items-center"],[2,"position","relative"],["type","text","placeholder","Search path test here..",1,"form-control","form-control-sm",2,"max-width","300px",3,"keyup","disabled"],["type","button","class","btn btn-sm btn-danger","style","position: absolute; right: 0; top:0;",3,"click",4,"ngIf"],[1,"card","rounded-3","shadow-lg","w-50","border-2","border-info","p-2"],[1,"w-100","text-center"],[1,"text-red-700","text-uppercase"],[1,"d-flex","flex-column","p-2","mt-1",2,"overflow-y","auto","max-height","50vh"],[4,"ngFor","ngForOf"],[1,"card","rounded-3","shadow-lg","w-100","border-2","border-primary","p-1",2,"min-height","100px"],[1,"d-flex","flex-row","justify-content-between","align-items-center","w-100"],[1,"d-flex","flex-column",2,"min-width","50%"],[1,"text-primary"],["class","d-flex flex-column",4,"ngIf"],["class","d-flex flex-row align-items-center gap-2",4,"ngIf"],[1,"table","table-sm","table-borderless"],[1,"text-green-600"],["colspan","2"],[1,"d-flex","justify-content-between","gap-2"],[1,"d-flex","flex-column","justify-content-center","text-center","border-1","border-black","rounded-2","p-1"],[1,"d-flex","flex-row","gap-1","justify-content-center","text-center"],[3,"ngClass"],["src","./../../../../../assets/images/alert.gif","height","20px","alt","","srcset","",4,"ngif"],[1,"d-flex","flex-row","align-items-center","gap-2"],[1,"text-nowrap","text-primary"],["name","","id","",1,"form-select","form-select-sm",2,"min-width","50%","max-width","50%",3,"ngModelChange","ngModel"],["value",""],[1,"text-red-600"],["src","./../../../../../assets/images/alert.gif","height","20px","alt","","srcset",""],["type","button",1,"btn","btn-sm","btn-danger",2,"position","absolute","right","0","top","0",3,"click"],[1,"bi","bi-x-lg"],[1,"card","border-0","rounded-3","shadow-lg","mb-1","main-head","position-relative"],[1,"d-flex","justify-content-center","align-items-center","p-2","bg-primary","text-white","rounded-3"],[1,"w-100"],[1,"d-flex","flex-column","w-100"],[1,"text-success"],[1,"d-flex","justify-content-between","w-100"],[1,"text-warning"],[1,"pr-2","text-danger"],[1,"bi","bi-currency-rupee"],[1,"position-absolute","right-0","top-0","h-100","shadow-lg","sub-head","d-flex","align-items-center","rounded-2"],["pTooltip","Delete test!","src","./../../../../../assets/images/delete.gif","height","40px","alt","","srcset","",1,"rounded-2","bg-transparent","cursor-pointer",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100",2,"min-height","400px"],["src","assets/images/zero.gif","height","100px","alt","","srcset",""],[2,"color","red"],[1,"card","border-0","rounded-3","shadow-lg","mb-1","main-head","position-relative",3,"dblclick"],[1,"position-absolute","right-0","top-0","h-100","shadow-lg","text-white","sub-head","d-flex","align-items-center","rounded-2"],["pTooltip","Add test!","src","./../../../../../assets/images/add.gif","height","40px","alt","","srcset","",1,"rounded-2","bg-transparent","cursor-pointer",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center","h-100",2,"min-height","500px","min-width","500px"],[1,"d-flex","flex-row","justify-content-between","gap-1"],[1,"d-flex","justify-content-center","align-items-center"],["src","./../../../../../assets/images/info.png","height","35px","alt","","srcset",""],[1,"p-0","m-0"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-column","justify-content-center","text-center","border-1","border-black","rounded-2",2,"padding-left","1px","padding-right","1px"],[1,"d-flex","justify-content-between","mt-1","mb-1"],[1,"d-flex","justify-content-start","align-items-center","h-100"],["class","mt-1",4,"ngIf"],["optionLabel","label","optionValue","value",3,"ngModelChange","options","ngModel"],["class","card border-2 rounded-3 shadow-lg w-100 border-warning p-2","style"," min-height: 500px;",4,"ngIf"],["class","card rounded-3 shadow-lg w-100 border-2 border-info p-2","style"," min-height: 500px;",4,"ngIf"],[1,"mt-1"],[1,"card","border-2","rounded-3","shadow-lg","w-100","border-warning","p-2",2,"min-height","500px"],[1,"w-100",2,"position","relative"],["type","text","placeholder","Search path test here..",1,"form-control","form-control-sm",3,"keyup","disabled"],[1,"card","rounded-3","shadow-lg","w-100","border-2","border-info","p-2",2,"min-height","500px"],[1,"text-red-700","text-uppercase",2,"font-size","0.8rem"]],template:function(r,i){if(r&1){let s=I();h(0,At,2,1,"ng-container",3)(1,Bt,9,0,"div",3)(2,Jt,56,26,"ng-container",3),n(3,"p-overlayPanel",null,0)(5,"div",4)(6,"div",5)(7,"div",6)(8,"strong")(9,"small"),l(10,"Unit"),a()(),n(11,"input",7),T("ngModelChange",function(m){return _(s),w(i.billItemCharge.Unit,m)||(i.billItemCharge.Unit=m),g(m)}),b("keyup",function(){return _(s),g(i.calculateFinalRateAmount())}),a()(),n(12,"div",6)(13,"strong")(14,"small"),l(15,"Rate (Per Unit)"),a()(),n(16,"input",7),T("ngModelChange",function(m){return _(s),w(i.billItemCharge.Rate,m)||(i.billItemCharge.Rate=m),g(m)}),b("keyup",function(){return _(s),g(i.calculateFinalRateAmount())}),a()()(),n(17,"div",5)(18,"div",8)(19,"strong")(20,"small"),l(21,"Notes"),a()(),n(22,"textarea",9),T("ngModelChange",function(m){return _(s),w(i.billItemCharge.Notes,m)||(i.billItemCharge.Notes=m),g(m)}),a()(),n(23,"div",8)(24,"div",6)(25,"strong")(26,"small"),l(27,"Final Rate"),a()(),n(28,"input",10),T("ngModelChange",function(m){return _(s),w(i.billItemCharge.Amount,m)||(i.billItemCharge.Amount=m),g(m)}),a()(),n(29,"div",11)(30,"button",12),b("click",function(){return _(s),g(i.saveBillItem())}),l(31,"Add"),a(),n(32,"button",13),b("click",function(){_(s);let m=B(4);return g(m.hide())}),l(33,"Cancel"),a()()()()()(),n(34,"p-overlayPanel",null,1)(36,"div",4)(37,"div",5)(38,"div",6)(39,"strong")(40,"small"),l(41,"Reason for delete?"),a()(),n(42,"input",14),T("ngModelChange",function(m){return _(s),w(i.reasonForDeleteBillItemDetail,m)||(i.reasonForDeleteBillItemDetail=m),g(m)}),a()()(),n(43,"div",11)(44,"button",15),b("click",function(){return _(s),g(i.deleteBillItemByBillItemIdBillNo())}),l(45,"Delete"),a(),n(46,"button",16),b("click",function(){_(s);let m=B(35);return g(m.hide())}),l(47,"Cancel"),a()()()()}r&2&&(c("ngIf",i.validPlatform("window")||i.validPlatform("mac")),o(),c("ngIf",!1),o(),c("ngIf",i.validPlatform("iphone")||i.validPlatform("ipad")),o(9),P("ngModel",i.billItemCharge.Unit),o(5),P("ngModel",i.billItemCharge.Rate),o(6),P("ngModel",i.billItemCharge.Notes),o(6),P("ngModel",i.billItemCharge.Amount),o(14),P("ngModel",i.reasonForDeleteBillItemDetail),o(2),c("disabled",i.selectedDeletingBillItemId===0&&!i.reasonForDeleteBillItemDetail.length))},dependencies:[U,Re,O,j,H,q,$,de,ce,oe,se,re,le,V,me,Ve,Y],styles:["[_nghost-%COMP%]     .p-button{padding:.3rem!important}"]})}}return t})();function Qt(t,d){if(t&1&&(v(0),n(1,"h1",16),l(2),x(3,"date"),a(),n(4,"h3",17),l(5),x(6,"date"),a(),n(7,"strong"),l(8),x(9,"date"),a(),C()),t&2){let e=p().$implicit;o(2),S(" ",E(3,3,e.TAdmissionDate,"dd")," "),o(3),S(" ",E(6,6,e.TAdmissionDate,"MMM")," "),o(3),S(" ",E(9,9,e.TAdmissionDate,"yyyy")," ")}}function ei(t,d){if(t&1&&(v(0),l(1),x(2,"date"),C()),t&2){let e=p().$implicit;o(),S(" ",E(2,1,e.TAdmissionDate,"dd/MM/yyyy hh:mm a")," ")}}function ti(t,d){t&1&&(v(0),l(1," Not Set... "),C())}function ii(t,d){if(t&1&&(v(0),l(1),x(2,"date"),C()),t&2){let e=p().$implicit;o(),S(" ",E(2,1,e.DischargeDate,"dd/MM/yyyy hh:mm a")," ")}}function ni(t,d){t&1&&(v(0),l(1," Yet to discharge... "),C())}function ai(t,d){if(t&1&&(v(0),l(1),C()),t&2){let e=p().$implicit;o(),S(" ",e.ReferedBy," ")}}function oi(t,d){t&1&&(v(0),l(1," Not Set... "),C())}function ri(t,d){if(t&1&&(v(0),l(1),C()),t&2){let e=p().$implicit;o(),S(" ",e.Consultant," ")}}function li(t,d){t&1&&(v(0),l(1," Not Set... "),C())}function si(t,d){if(t&1&&(v(0),l(1),C()),t&2){let e=p().$implicit;o(),S(" ",e.Location," ")}}function di(t,d){t&1&&(v(0),l(1," Not Set... "),C())}function ci(t,d){if(t&1&&(v(0),l(1),C()),t&2){let e=p().$implicit;o(),S(" ",e.Payer," ")}}function pi(t,d){t&1&&(v(0),l(1," Not Set... "),C())}function mi(t,d){if(t&1&&(v(0),l(1),C()),t&2){let e=p().$implicit;o(),S(" ",e.ProcAdviced," ")}}function _i(t,d){t&1&&(v(0),l(1," Not Set... "),C())}function gi(t,d){if(t&1&&(v(0),l(1),C()),t&2){let e=p().$implicit;o(),S(" ",e.DischargeReason," ")}}function hi(t,d){t&1&&(v(0),l(1," Not Set... "),C())}function ui(t,d){if(t&1){let e=I();v(0),n(1,"div",10),b("click",function(){let i=_(e).$implicit,s=p(6);return g(s.searchPatient_IPD_Screen(i))}),n(2,"div",5)(3,"div",11),h(4,Qt,10,12,"ng-container",2),a(),n(5,"div",12)(6,"div",13)(7,"div",14)(8,"strong"),l(9,"IPD No:"),a(),n(10,"i",15),l(11),x(12,"uppercase"),a()(),n(13,"div",14)(14,"strong"),u(15,"i"),a()()(),n(16,"div",13)(17,"div",14)(18,"strong"),l(19,"Admission Date:"),a(),n(20,"i"),h(21,ei,3,4,"ng-container",2)(22,ti,2,0,"ng-container",2),a()(),n(23,"div",14)(24,"strong"),l(25,"Discharge Date:"),a(),n(26,"i"),h(27,ii,3,4,"ng-container",2)(28,ni,2,0,"ng-container",2),a()()(),n(29,"div",13)(30,"div",14)(31,"strong"),l(32,"Ref By:"),a(),n(33,"i"),h(34,ai,2,1,"ng-container",2)(35,oi,2,0,"ng-container",2),a()(),n(36,"div",14)(37,"strong"),l(38,"Consultant:"),a(),n(39,"i"),h(40,ri,2,1,"ng-container",2)(41,li,2,0,"ng-container",2),a()()(),n(42,"div",13)(43,"div",14)(44,"strong"),l(45,"Location:"),a(),n(46,"i"),h(47,si,2,1,"ng-container",2)(48,di,2,0,"ng-container",2),a()(),n(49,"div",14)(50,"strong"),l(51,"Payer:"),a(),n(52,"i"),h(53,ci,2,1,"ng-container",2)(54,pi,2,0,"ng-container",2),a()()(),n(55,"div",13)(56,"div",14)(57,"strong"),l(58,"Admit Reason:"),a(),n(59,"i"),h(60,mi,2,1,"ng-container",2)(61,_i,2,0,"ng-container",2),a()(),n(62,"div",14)(63,"strong"),l(64,"Discharge Reason:"),a(),n(65,"i"),h(66,gi,2,1,"ng-container",2)(67,hi,2,0,"ng-container",2),a()()()()()(),C()}if(t&2){let e=d.$implicit;o(4),c("ngIf",e.TAdmissionDate),o(7),S(" ",D(12,18,e.RegNo)," "),o(10),c("ngIf",e.TAdmissionDate),o(),c("ngIf",!e.TAdmissionDate),o(5),c("ngIf",e.DischargeDate),o(),c("ngIf",!e.DischargeDate),o(6),c("ngIf",e.ReferedBy),o(),c("ngIf",!e.ReferedBy),o(5),c("ngIf",e.Consultant),o(),c("ngIf",!e.Consultant),o(6),c("ngIf",e.Location),o(),c("ngIf",!e.Location),o(5),c("ngIf",e.Payer),o(),c("ngIf",!e.Payer),o(6),c("ngIf",e.ProcAdviced),o(),c("ngIf",!e.ProcAdviced),o(5),c("ngIf",e.DischargeReason),o(),c("ngIf",!e.DischargeReason)}}function fi(t,d){if(t&1&&(v(0),h(1,ui,68,20,"ng-container",9),C()),t&2){let e=p(3).$implicit;o(),c("ngForOf",e.dataArray)}}function yi(t,d){if(t&1&&(v(0),n(1,"h1",16),l(2),x(3,"date"),a(),n(4,"h3",17),l(5),x(6,"date"),a(),n(7,"strong"),l(8),x(9,"date"),a(),C()),t&2){let e=p().$implicit;o(2),S(" ",E(3,3,e.StartDatetime,"dd")," "),o(3),S(" ",E(6,6,e.StartDatetime,"MMM")," "),o(3),S(" ",E(9,9,e.StartDatetime,"yyyy")," ")}}function vi(t,d){if(t&1&&(v(0),l(1),x(2,"date"),C()),t&2){let e=p().$implicit;o(),S(" ",E(2,1,e.StartDatetime,"dd/MM/yyyy hh:mm a")," ")}}function Ci(t,d){t&1&&(v(0),l(1," --- "),C())}function xi(t,d){if(t&1&&(v(0),l(1),x(2,"date"),C()),t&2){let e=p().$implicit;o(),S(" ",E(2,1,e.LeftAt,"dd/MM/yyyy hh:mm a")," ")}}function bi(t,d){t&1&&(v(0),l(1," --- "),C())}function Si(t,d){if(t&1&&(v(0),l(1),x(2,"uppercase"),C()),t&2){let e=p().$implicit;o(),S(" ",D(2,1,e.ReferredBy)," ")}}function Di(t,d){t&1&&(v(0),l(1," Not Set... "),C())}function Ii(t,d){if(t&1&&(v(0),l(1),x(2,"uppercase"),C()),t&2){let e=p().$implicit;o(),S(" ",D(2,1,e.BookedFor)," ")}}function Pi(t,d){t&1&&(v(0),l(1," Not Set... "),C())}function wi(t,d){if(t&1){let e=I();v(0),n(1,"div",10),b("click",function(i){let s=_(e).$implicit,y=p(6);return s.toggle(i),g(y.appointmentId=s.AppointmentId)}),n(2,"div",18)(3,"div",11),h(4,yi,10,12,"ng-container",2),a(),n(5,"div",12)(6,"div",13)(7,"div",5)(8,"strong"),l(9,"OPD No:"),a(),n(10,"i"),l(11),x(12,"uppercase"),a()(),n(13,"div",5)(14,"strong"),l(15,"Reason:"),a(),n(16,"i"),l(17),x(18,"uppercase"),a()()(),n(19,"div",13)(20,"div",5)(21,"strong"),l(22,"Appointment Date:"),a(),n(23,"i"),h(24,vi,3,4,"ng-container",2)(25,Ci,2,0,"ng-container",2),a()(),n(26,"div",5)(27,"strong"),l(28,"Left Date:"),a(),n(29,"i"),h(30,xi,3,4,"ng-container",2)(31,bi,2,0,"ng-container",2),a()()(),n(32,"div",13)(33,"div",5)(34,"strong"),l(35,"Ref By:"),a(),n(36,"i"),h(37,Si,3,3,"ng-container",2)(38,Di,2,0,"ng-container",2),a()(),n(39,"div",5)(40,"strong"),l(41,"Consultant:"),a(),n(42,"i"),h(43,Ii,3,3,"ng-container",2)(44,Pi,2,0,"ng-container",2),a()()()()()(),C()}if(t&2){let e=d.$implicit;o(4),c("ngIf",e.StartDatetime),o(7),S(" ",D(12,11,e.RegNo)," "),o(6),S(" ",D(18,13,e.Treatment)," "),o(7),c("ngIf",e.StartDatetime),o(),c("ngIf",!e.StartDatetime),o(5),c("ngIf",e.LeftAt),o(),c("ngIf",!e.LeftAt),o(6),c("ngIf",e.ReferredBy),o(),c("ngIf",!e.ReferredBy),o(5),c("ngIf",e.BookedFor),o(),c("ngIf",!e.BookedFor)}}function Ti(t,d){if(t&1&&(v(0),h(1,wi,45,15,"ng-container",9),C()),t&2){let e=p(3).$implicit;o(),c("ngForOf",e.dataArray)}}function Ei(t,d){t&1&&(v(0),n(1,"div",19),l(2," Hello World! "),a(),C())}function Li(t,d){if(t&1&&(v(0),h(1,fi,2,1,"ng-container",2)(2,Ti,2,1,"ng-container",2)(3,Ei,3,0,"ng-container",2),C()),t&2){let e=p(2).$implicit;o(),c("ngIf",e.departmentName.toLowerCase().trim().includes("ipd")),o(),c("ngIf",e.departmentName.toLowerCase().trim().includes("opd")),o(),c("ngIf",e.departmentName.toLowerCase().trim().includes("path"))}}function Ai(t,d){if(t&1&&h(0,Li,4,3,"ng-container",2),t&2){let e=p().$implicit;c("ngIf",e.dataArray.length)}}function Bi(t,d){if(t&1&&(n(0,"p-tabPanel",7),h(1,Ai,1,1,"ng-template",8),a()),t&2){let e=d.$implicit;c("header",e.departmentName)}}function Mi(t,d){if(t&1){let e=I();v(0),n(1,"p-tabView",3),T("activeIndexChange",function(i){_(e);let s=p();return w(s.activeIndex,i)||(s.activeIndex=i),g(i)}),h(2,Bi,2,1,"p-tabPanel",4),a(),n(3,"p-overlayPanel",null,0)(5,"div",5)(6,"button",6),b("click",function(){_(e);let i=p();return g(i.showAdmissionHistoryForIpdPatientDialoge())}),l(7," Discharge Summary "),a()()(),n(8,"p-overlayPanel",null,1)(10,"div",5)(11,"button",6),b("click",function(){_(e);let i=p();return g(i.navigateToOpdCard())}),l(12," OPD Card "),a()()(),C()}if(t&2){let e=p();o(),P("activeIndex",e.activeIndex),c("scrollable",!0),o(),c("ngForOf",e.historyListWithDept)}}var Le=class{constructor(){this.departmentName="",this.dataArray=[]}},Ge=(()=>{class t{constructor(e,r,i,s,y,m){this._commonServices=e,this._patientServices=r,this._dialogConfig=i,this._dialogService=s,this._router=y,this.dialogRef=m,this.historyListWithDept=[],this.patientId=0,this.activeIndex=0,this.patientName="",this.admissionId=0,this.appointmentId=0}ngOnInit(){let e=this._dialogConfig.data||null;e&&(this.patientId=e.patientId||0,this.patientName=e.patientName||0),this.patientId&&this.loadPatient_IPD_OPD_PATH_History()}loadPatient_IPD_OPD_PATH_History(){if(this.patientId){let e=new J;e.EntityId=this.patientId,this._patientServices.getPatient_IPD_OPD_PATH_History_Detail(e).subscribe(r=>{console.log(r);debugger;r.Status.toLowerCase().trim().includes("success")&&r.noofREcords&&this.sortHistoryListWithDept(r.dataSet)},r=>{console.error(r)})}}sortHistoryListWithDept(e){debugger;if(e){let r=Object.keys(e);debugger;if(r.length){this.historyListWithDept=[];for(let i=0;i<r.length;i++){let s=Object.keys(e[r[i]][0])||0;if(s.length&&s[0].trim().toLowerCase().includes("hospitalsectionname")){let y=new Le;y.departmentName=e[r[i]][0][s[0]],y.dataArray=e[r[i+1]],i=i+1,this.historyListWithDept.push(y)}}}console.log(this.historyListWithDept)}}showAdmissionHistoryForIpdPatientDialoge(){history.state.patientId=this.patientId;let e=this._dialogService.open(ee,{header:"Admission History",width:"auto",data:{admissionId:this.admissionId,type:"discharge summary"}})}navigateToOpdCard(){this._router.navigate(["feature/opd/opd-card"],{state:{appointmentId:this.appointmentId,hospitalSection:"OPD"},queryParams:{appointmentId:this.appointmentId}})}searchPatient_IPD_Screen(e){let r={patientId:e.PatientId||0,date:(e.TAdmissionDate?e.TAdmissionDate.split("T")[0]:"")||"",patientName:this.patientName||""};this.dialogRef.close(r),this._dialogService.dialogComponentRefMap.forEach(i=>{i.destroy()})}static{this.\u0275fac=function(r){return new(r||t)(L(F),L(Z),L(N),L(K),L(X),L(ke))}}static{this.\u0275cmp=k({type:t,selectors:[["app-combined-patient-search"]],decls:1,vars:1,consts:[["ipd",""],["opd",""],[4,"ngIf"],[3,"activeIndexChange","activeIndex","scrollable"],[3,"header",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","gap-1"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[3,"header"],["pTemplate","content"],[4,"ngFor","ngForOf"],[1,"card","border-0","rounded-0","shadow-lg","p-2","mb-2",2,"border-bottom","2px solid #37AFE1 !important",3,"click"],[1,"d-flex","flex-column","text-center","p-2","h-100","align-items-center","rounded-1",2,"background-color","#3674B5","color","white"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-row","justify-content-between"],[1,"d-flex","flex-row","flex-wrap","gap-1"],[2,"color","red"],[1,"h1","p-0","m-0"],[1,"h3","p-0","m-0"],[1,"d-flex","flex-row","gap-1","align-items-center","h-100"],[1,"card","border-0","rounded-0","shadow-lg","p-2"]],template:function(r,i){r&1&&h(0,Mi,13,3,"ng-container",2),r&2&&c("ngIf",i.historyListWithDept.length)},dependencies:[U,O,j,H,q,$,V,pe,Y,ge,_e,je,Fe],encapsulation:2})}}return t})();var Je=(()=>{class t{constructor(e,r){this._commonServices=e,this._httpClient=r}getAddmittedPaitentListForIPD_Old(e,r){let i=`
    select
ta.AdmissionId,
ta.AdmissionDate,
te.EntityId,
te.EntityName,
ta.PatientId,
ta.EntryDate,
ta.ProcAdviced,
ta.ProcNotes,
ta.AdmissionRequired,
ta.ConsentRequired,
ta.TentativeCharges,
ta.TAdmissionDate,
ta.TProcedureDate,
ta.ReferedBy,
ta.Location,
ta.Active,
ta.AdmissionDate,
ta.DischargeDate,
ta.Status,
ta.RegNo,
ta.AdmissionType,
ta.MedicoLegal,
ta.DischargeReason,
ta.AdmRecNo,
ta.AdmRecDate,
ta.RName,
ta.RAddress,
ta.RCity,
ta.RPhone,
ta.RPin,
ta.RMobile,
ta.RType,
ta.Consultant,
ta.BillClass,
ta.Payer,
ta.BillCat,
ta.PreparedBy,
ta.PrintedBy,
ta.Witness,
ta.MLCNumber,
ta.MediumofAdm,
ta.department,
ta.curr_AdmissionBedid,
ta.MRDNO,
ta.ADDITIONALDETAIL

from tblAdmission ta, tblEntity te where ta.PatientId = te.EntityId and DischargeDate is null and DischargeReason is null ${e&&r?`and CAST(EntryDate as date) between '${e}' and '${r}'`:""} order by EntryDate desc
    `,s=this._commonServices.generateApiRequestParam(A.sqlFunNameList.select,null,i);return this._httpClient.post(A.apiUrl+A.sqlController,s)}getAddmittedPaitentListForIPD(e,r){let i=`
       select m.ProcAdviced,
       m.location,
       (select bedname as bed from  tblAdmissionBedHistory where AdmissionBedId=m.curr_AdmissionBedId ) Bed,
        (select BedType as bedtype from  tblAdmissionBedHistory where AdmissionBedId=m.curr_AdmissionBedId ) BedType,
       E.EntityId,
       E.EntityName,
       E.RegNo,
       m.regno as IPDNO,
       PrimaryFld1,
       PrimaryId1,
       A.AppointmentId,
       tadmissiondate as AdmissionDate,
       dbo.NIkDefault_ApptAllCharges(A.AppointmentId,'IPD') Charges,
       dbo.NikDefault_ApptAllReceipts(A.AppointmentId,'IPD') Receipts,
       LeftHosp,
       m.admissionid,
       e.PrimaryFld2 as sex,
       m.status,
       m.DischargeDate as DischargeDate,
       m.ADDITIONALDETAIL,
       m.MLCNumber,
       isnull(salutation,'') salutation,
        m.ReferedBy as ReferredBy,
       m.Consultant
       from tblappointment A,
       tblEntity E,
       tblAdmission M
       where A.Active = 1
       and E.Active = 1
       and M.Active =1
       and M.AdmissionId = A.AppointmentId
       and E.entityId = M.patientId
       and Status in (1,2)
        ${e&&r?`and CAST(m.tadmissiondate as date) between '${e}' and '${r}'`:""}
       Order by m.tadmissiondate DESC;
       select UserName, UserId, Role, AssociationType, Active from tbluser where active=1 and role='Doctor';
       select distinct Location  from tblAdmissionBed where Active =1;
       select distinct Description   from tblAdmissionBedtype where Active =1 ;
       select distinct procadviced from tblAdmission where Status in (1,2) and Active=1
       select distinct ListItem from tblListItems where ListType like 'ReferralDoctor' and ListItem <> '' and Active = 1
       `,s=this._commonServices.generateApiRequestParam(A.sqlFunNameList.select,null,i);return this._httpClient.post(A.apiUrl+A.sqlController,s)}getDischargedPaitentListForIPD(e,r){let i=`
      select
      ta.AdmissionId,
ta.AdmissionDate,
te.EntityId,
te.EntityName,
ta.PatientId,
ta.EntryDate,
ta.ProcAdviced,
ta.ProcNotes,
ta.AdmissionRequired,
ta.ConsentRequired,
ta.TentativeCharges,
ta.TAdmissionDate,
ta.TProcedureDate,
ta.ReferedBy,
ta.Location,
ta.Active,
ta.AdmissionDate,
ta.DischargeDate,
ta.Status,
ta.RegNo,
ta.AdmissionType,
ta.MedicoLegal,
ta.DischargeReason,
ta.AdmRecNo,
ta.AdmRecDate,
ta.RName,
ta.RAddress,
ta.RCity,
ta.RPhone,
ta.RPin,
ta.RMobile,
ta.RType,
ta.Consultant,
ta.BillClass,
ta.Payer,
ta.BillCat,
ta.PreparedBy,
ta.PrintedBy,
ta.Witness,
ta.MLCNumber,
ta.MediumofAdm,
ta.department,
ta.curr_AdmissionBedid,
ta.MRDNO,
ta.ADDITIONALDETAIL

from tblAdmission ta, tblEntity te where ta.PatientId = te.EntityId and DischargeDate is not null and DischargeReason is not null ${e&&r?`and CAST(EntryDate as date) between '${e}' and '${r}'`:""} order by EntryDate desc
    `,s=this._commonServices.generateApiRequestParam(A.sqlFunNameList.select,null,i);return this._httpClient.post(A.apiUrl+A.sqlController,s)}getPaitentListForIPD(e,r,i){let s=`
       select m.ProcAdviced,
       m.location,
       (select bedname as bed from  tblAdmissionBedHistory where AdmissionBedId=m.curr_AdmissionBedId ) Bed,
        (select BedType as bedtype from  tblAdmissionBedHistory where AdmissionBedId=m.curr_AdmissionBedId ) BedType,
       E.EntityId,
       E.EntityName,
       E.RegNo,
       m.regno as IPDNO,
       PrimaryFld1,
       PrimaryId1,
       A.AppointmentId,
       tadmissiondate as AdmissionDate,
       dbo.NIkDefault_ApptAllCharges(A.AppointmentId,'IPD') Charges,
       dbo.NikDefault_ApptAllReceipts(A.AppointmentId,'IPD') Receipts,
       LeftHosp,
       m.admissionid,
       e.PrimaryFld2 as sex,
       m.status,
       m.DischargeDate as DischargeDate,
       m.ADDITIONALDETAIL,
       m.MLCNumber,
       isnull(salutation,'') salutation,
        m.ReferedBy as ReferredBy,
       m.Consultant
       from tblappointment A,
       tblEntity E,
       tblAdmission M
       where A.Active = 1
       and E.Active = 1
       and M.Active =1
       and M.AdmissionId = A.AppointmentId
       ${i?"":"and E.entityId = M.patientId"}
        ${i?"and E.entityId = "+i:""}
        ${i?"and M.patientId = "+i:""}
        ${i?"":`and Status in (1,2 ${e&&r?e==r?"":",3":""})`}
         ${i?"and Status in (1,2,3)":""}
       ${i?"":`${e&&r?e==r?"":`and CAST(m.tadmissiondate as date) between '${e}' and '${r}'`:""}`}
       ${i?`and CAST(m.tadmissiondate as date) between '${e}' and '${r}'`:""}
       Order by m.tadmissiondate DESC;
       select UserName, UserId, Role, AssociationType, Active from tbluser where active=1 and role='Doctor';
       select distinct Location  from tblAdmissionBed where Active =1;
       select distinct Description   from tblAdmissionBedtype where Active =1 ;
       select distinct procadviced from tblAdmission where Status in (1,2) and Active=1
       select distinct ListItem from tblListItems where ListType like 'ReferralDoctor' and ListItem <> '' and Active = 1
       `,y=this._commonServices.generateApiRequestParam(A.sqlFunNameList.select,null,s);return this._httpClient.post(A.apiUrl+A.sqlController,y)}getAppointmentPaitentListForOPD_old(e,r){let i=`
      select ta.* , te.EntityName as 'PatientName', tb.TotalAmt, tb.IPCaseNo, tb.AmountToPatient, tb.AmountToPayer, tb.BillNo, tbr.BillReceiptId, tbr.Receipts, tbr.ReceiptNo
      from tblAppointment ta
      inner join tblEntity te
      on ta.EntityId = te.EntityId
      and te.Active = 1
      inner join tblbill tb
      on tb.PatientId = te.EntityId
      and tb.AppointmentId = ta.AppointmentId
      and tb.B_WhichOpd like ta.WhichOPD
      and tb.Active = 1
      inner join tblBillReceipt tbr
      on tbr.BillNo = tb.BillNo
      and tbr.R_WhichOpd like ta.WhichOPD
      and tbr.Active = 1
      where CAST(ta.CreatedAt as date) between '${e}' and '${r}'
      and ta.Arrived = 1
      and ta.Active = 1
      and ta.EntityId is not null
      and ta.EntityId > 0
      and ta.WhichOPD like 'opd'
      order by ta.CreatedAt desc
      `,s=this._commonServices.generateApiRequestParam(A.sqlFunNameList.select,null,i);return this._httpClient.post(A.apiUrl+A.sqlController,s)}getAppointmentPaitentListForOPD(e,r){let i=`
     select A.AppointmentId , e.EntityId , e.EntityName as PatientName, A.CreatedAt , e.RegNo, a.Treatment,
     dbo.NikDefault_ApptAllReceipts(a.appointmentid,'OPD') as receipt, a.Arrived,
     e.primaryfld2, isnull(LeftHosp,0)as LeftHosp from tblappointment A,
     tblEntity E where A.Isrecurring = 0 and A.Active = 1 and E.Active = 1 and E.entityId = A.EntityId and
     WhichOPD is not null  and CAST(StartDatetime as date) between '${e}' and '${r}'
     order by LeftHosp asc, appointmentid desc;
      `,s=this._commonServices.generateApiRequestParam(A.sqlFunNameList.select,null,i);return this._httpClient.post(A.apiUrl+A.sqlController,s)}getPatientDetailsListByPatientId(e){let r=`
      select * from tblEntity where EntityId in (${e}) and Active = 1;
      `,i=this._commonServices.generateApiRequestParam(A.sqlFunNameList.select,null,r);return this._httpClient.post(A.apiUrl+A.sqlController,i)}static{this.\u0275fac=function(r){return new(r||t)(xe(F),xe(Ne))}}static{this.\u0275prov=Ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Xe=()=>({width:"auto"}),Ze=()=>({"1199px":"75vw","575px":"90vw"}),Qe=()=>({width:"25rem"}),Ni=()=>({width:"70rem"}),Fi=t=>({width:t}),Vi=t=>({"overflow-y":"auto","overflow-x":"hidden","max-height":t});function ki(t,d){if(t&1&&(v(0),n(1,"a",93)(2,"span",94),l(3),a()(),C()),t&2){let e=d.$implicit;o(3),f(e.label)}}function Wi(t,d){if(t&1&&(n(0,"option",95),l(1),x(2,"uppercase"),a()),t&2){let e=d.$implicit;R("value",e),o(),f(D(2,2,e))}}function Oi(t,d){if(t&1&&(n(0,"option",95),l(1),x(2,"uppercase"),a()),t&2){let e=d.$implicit;R("value",e),o(),f(e||D(2,2,""))}}function ji(t,d){if(t&1&&(n(0,"option",95),l(1),x(2,"uppercase"),a()),t&2){let e=d.$implicit;R("value",e),o(),f(e||D(2,2,""))}}function Hi(t,d){if(t&1){let e=I();n(0,"div",67)(1,"strong"),l(2),a(),n(3,"select",70),T("ngModelChange",function(i){_(e);let s=p(2);return w(s.selectedFilterVal,i)||(s.selectedFilterVal=i),g(i)}),n(4,"option",21),l(5,"All"),a(),h(6,ji,3,4,"option",22),a()()}if(t&2){let e=p(2);o(2),S("Search ",e.selectedFilterType,""),o(),P("ngModel",e.selectedFilterVal),o(3),c("ngForOf",e.ipdFilterTypeList.filterValueList)}}function qi(t,d){if(t&1){let e=I();n(0,"i",96),b("click",function(){_(e);let i=p(2);return g(i.resetFilters())}),a()}}function Ui(t,d){if(t&1&&(v(0),n(1,"small",102)(2,"strong"),l(3),x(4,"uppercase"),a()(),C()),t&2){let e=p().$implicit;o(3),z("",D(4,2,e.RegNo)," | [ID: ",e.EntityId,"]")}}function $i(t,d){if(t&1&&(v(0),n(1,"small",102)(2,"strong"),l(3),a()(),C()),t&2){let e=p().$implicit;o(3),S("No ID | [ID: ",e.EntityId,"]")}}function Ki(t,d){if(t&1){let e=I();n(0,"li",99),b("click",function(){let i=_(e).$implicit,s=p(3);return s.setAndSearchPatientDetailByPatientName(i.EntityName),g(s.showCombinedPatientSearchDetail(i))}),n(1,"div",55)(2,"strong",100),l(3),x(4,"uppercase"),a(),n(5,"i",101),h(6,Ui,5,4,"ng-container",4)(7,$i,4,1,"ng-container",4),a()()()}if(t&2){let e=d.$implicit;o(3),f(D(4,3,e.EntityName)),o(3),c("ngIf",e.RegNo),o(),c("ngIf",!e.RegNo)}}function Yi(t,d){if(t&1&&(v(0),n(1,"ul",97),h(2,Ki,8,5,"li",98),a(),C()),t&2){let e=p(2);o(2),c("ngForOf",e.searchedPatientList)}}function zi(t,d){if(t&1){let e=I();v(0),n(1,"div",111)(2,"div",112),b("click",function(i){_(e);let s=p().$implicit,y=p(6);return B(69).toggle(i),g(y.showDetailsOfIpdPatient(s))}),n(3,"div",113)(4,"strong"),l(5),a()(),n(6,"div",55)(7,"div",114)(8,"h5",100)(9,"strong"),l(10),a()()(),n(11,"div",115)(12,"div",80)(13,"h6",100)(14,"strong"),l(15,"UHID: "),n(16,"i")(17,"span"),l(18),a()()()()()(),n(19,"div",115)(20,"div",116)(21,"small")(22,"strong"),l(23,"IPD No: "),n(24,"span"),l(25),a()()()()(),n(26,"div",115)(27,"div",117),u(28,"img",82),n(29,"small")(30,"strong")(31,"span",118),l(32),a()()()(),n(33,"div",119),u(34,"img",120),n(35,"small")(36,"strong")(37,"span"),l(38),x(39,"date"),a()()()(),n(40,"div",121),u(41,"img",86),n(42,"small")(43,"strong")(44,"span"),l(45),x(46,"date"),a()()()()(),n(47,"div",115)(48,"div",116),u(49,"img",84),n(50,"small")(51,"strong")(52,"span",122),l(53),a()()()()(),n(54,"div",115)(55,"div",123),u(56,"img",87),n(57,"small")(58,"strong")(59,"span"),l(60),a()()()()(),n(61,"div",115)(62,"div",124),u(63,"img",88),n(64,"small")(65,"strong")(66,"span"),l(67),a()()()()()()()(),C()}if(t&2){let e=p().$implicit,r=p(6);o(3),Be("card border-0 rounded-0 ",r.return_PatientStatus(e).toLowerCase().includes("discharge")?"bg-red-400 text-white":"bg-blue-400 text-white",""),o(2),f(r.return_PatientStatus(e)),o(5),z("",e.salutation.includes(".")?e.salutation:e.salutation+"."," ",e.EntityName,""),o(7),M(e.RegNo?"color : #4E9F3D;":""),o(),f(e.RegNo),o(6),M(e.IPDNO?"color : #D89216;":""),o(),f(e.IPDNO?e.IPDNO:"IPD_NO_NEED"),o(6),M(e.location?"color : #E2703A;":""),o(),f(e.location),o(6),f(E(39,24,e.AdmissionDate,"dd/MM/yy")),o(7),f(E(46,27,e.AdmissionDate,"h:mm a")),o(7),M(e.Bed?"color : #810CA8;":"color : #FF0000;"),o(),f(e.Bed?e.Bed:"Please Allocate Bed"),o(2),R("pTooltip",e.ReferredBy.length>44?e.ReferredBy:""),o(5),f(r.wrapupExtraProcedureText(e.ReferredBy)||"No Referral Detail"),o(2),R("pTooltip",e.ProcAdviced.length>44?e.ProcAdviced:""),o(5),f(r.wrapupExtraProcedureText(e.ProcAdviced))}}function Gi(t,d){if(t&1&&(v(0),h(1,zi,68,30,"ng-container",4),C()),t&2){let e=d.$implicit,r=p(3).$implicit,i=p(3);o(),c("ngIf",i.validFilterType(r,i.ipdFilterTypeList.filterKeyValue,e))}}function Ji(t,d){if(t&1&&(n(0,"div",107)(1,"div",108)(2,"div",109)(3,"h5",110),l(4),x(5,"uppercase"),a()(),h(6,Gi,2,1,"ng-container",104),a()()),t&2){let e=p(2).$implicit,r=p(3);o(4),S(" ",D(5,2,e)," "),o(2),c("ngForOf",r.filteredIpdPatientList)}}function Xi(t,d){if(t&1&&(n(0,"div",55),h(1,Ji,7,4,"div",106),a()),t&2){let e=p().$implicit,r=p(3);o(),c("ngIf",r.validCount(e,r.ipdFilterTypeList.filterKeyValue))}}function Zi(t,d){if(t&1&&(v(0),h(1,Xi,2,1,"div",105),C()),t&2){let e=d.$implicit,r=p(3);o(),c("ngIf",!r.selectedFilterVal||e.toLowerCase().trim().includes(r.selectedFilterVal.toLowerCase().trim()))}}function Qi(t,d){if(t&1&&(n(0,"div",103),h(1,Zi,2,1,"ng-container",104),a()),t&2){let e=p(2);o(),c("ngForOf",e.ipdFilterTypeList.filterValueList)}}function en(t,d){if(t&1){let e=I();v(0,60),n(1,"div",61)(2,"div",62)(3,"div",63),u(4,"img",64),n(5,"h1"),l(6,"IPD"),a()(),n(7,"small",65)(8,"div",66)(9,"strong"),l(10,"Patient Count :"),a(),n(11,"i")(12,"strong"),l(13),a()()()(),n(14,"div",67)(15,"p-breadcrumb",68),h(16,ki,4,1,"ng-template",69),a()(),n(17,"div",67)(18,"strong"),l(19,"Patient Status"),a(),n(20,"select",70),T("ngModelChange",function(i){_(e);let s=p();return w(s.patientStatus,i)||(s.patientStatus=i),g(i)}),n(21,"option",21),l(22,"Select Status"),a(),n(23,"option",71),l(24,"All"),a(),h(25,Wi,3,4,"option",22),a()(),n(26,"div",67)(27,"strong"),l(28,"Filter Type"),a(),n(29,"select",72),T("ngModelChange",function(i){_(e);let s=p();return w(s.selectedFilterType,i)||(s.selectedFilterType=i),g(i)}),b("change",function(){_(e);let i=p();return g(i.filterIpdPatientListBySelectedSortingType())}),n(30,"option",21),l(31,"Select Filter"),a(),h(32,Oi,3,4,"option",22),a()(),h(33,Hi,7,3,"div",73),n(34,"div",67)(35,"strong"),l(36,"From Date"),a(),n(37,"input",74),T("ngModelChange",function(i){_(e);let s=p();return w(s.fromDate,i)||(s.fromDate=i),g(i)}),a()(),n(38,"div",67)(39,"strong"),l(40,"To Date"),a(),n(41,"input",74),T("ngModelChange",function(i){_(e);let s=p();return w(s.toDate,i)||(s.toDate=i),g(i)}),a()(),n(42,"button",75),b("click",function(){_(e);let i=p();return g(i.loadPatientListByPatientStatus())}),n(43,"strong"),l(44,"Search"),a()()(),n(45,"div",76)(46,"div",77)(47,"div",78)(48,"div",79)(49,"div",80)(50,"div",81),u(51,"img",82),n(52,"small")(53,"strong")(54,"span"),l(55,"Location"),a()()()(),u(56,"div",83),n(57,"div",81),u(58,"img",84),n(59,"small")(60,"strong")(61,"span"),l(62,"Bed Name"),a()()()(),u(63,"div",83),n(64,"div",81),u(65,"img",85),n(66,"small")(67,"strong")(68,"span"),l(69,"Admission Date"),a()()()(),u(70,"div",83),n(71,"div",81),u(72,"img",86),n(73,"small")(74,"strong")(75,"span"),l(76,"Admission Time"),a()()()(),u(77,"div",83),n(78,"div",81),u(79,"img",87),n(80,"small")(81,"strong")(82,"span"),l(83,"Referred By"),a()()()(),u(84,"div",83),n(85,"div",81),u(86,"img",88),n(87,"small")(88,"strong")(89,"span"),l(90,"Admission Reason"),a()()()()(),n(91,"div",89)(92,"input",90),T("ngModelChange",function(i){_(e);let s=p();return w(s.searchedPatientName,i)||(s.searchedPatientName=i),g(i)}),b("keyup",function(){_(e);let i=p();return g(i.loadPatientList(i.searchedPatientName))}),a(),h(93,qi,1,0,"i",91)(94,Yi,3,1,"ng-container",4),a()()(),v(95),h(96,Qi,2,1,"div",92),C(),a()()(),C()}if(t&2){let e=p();o(13),f(e.filteredIpdPatientList.length),o(2),c("model",e.item),o(5),P("ngModel",e.patientStatus),o(5),c("ngForOf",e.patientStatusTypeList),o(4),P("ngModel",e.selectedFilterType),o(3),c("ngForOf",e.filterTypeList),o(),c("ngIf",e.selectedFilterType),o(4),P("ngModel",e.fromDate),o(4),P("ngModel",e.toDate),o(51),P("ngModel",e.searchedPatientName),o(),c("ngIf",e.searchedPatientName.length>0),o(),c("ngIf",e.searchedPatientList.length&&e.searchedPatientName.length),o(2),c("ngIf",e.ipdFilterTypeList.filterValueList.length)}}function tn(t,d){if(t&1&&(n(0,"option",95)(1,"div",133),l(2),a()()),t&2){let e=d.$implicit,r=p(2);R("value",e),o(2),z(" ",e," (",r.checkCount(e,r.ipdFilterTypeList.filterKeyValue),") ")}}function nn(t,d){if(t&1&&(v(0),n(1,"a",93)(2,"span",94),l(3),a()(),C()),t&2){let e=d.$implicit;o(3),f(e.label)}}function an(t,d){if(t&1&&(n(0,"div",78)(1,"p-breadcrumb",68),h(2,nn,4,1,"ng-template",69),a()()),t&2){let e=p(2);o(),c("model",e.item)}}function on(t,d){if(t&1){let e=I();n(0,"div",136)(1,"div",137),b("click",function(i){_(e);let s=p().$implicit,y=p(6);return B(69).toggle(i),g(y.showDetailsOfIpdPatient(s))}),n(2,"div",55)(3,"div",114)(4,"h5",100)(5,"strong"),l(6),a()()(),n(7,"div",115)(8,"div",80)(9,"h6",100)(10,"strong"),l(11,"UHID: "),n(12,"i")(13,"span"),l(14),a()()()()(),n(15,"div",80),u(16,"img",120),n(17,"small")(18,"strong")(19,"span",138),l(20),x(21,"date"),a()()()()(),n(22,"div",115)(23,"div",80)(24,"small")(25,"strong"),l(26,"IPD No: "),n(27,"span"),l(28),a()()()()(),n(29,"div",115)(30,"div",80),u(31,"img",84),n(32,"small")(33,"strong")(34,"span",122),l(35),a()()()(),n(36,"div",80),u(37,"img",82),n(38,"small")(39,"strong")(40,"span",118),l(41),a()()()()(),n(42,"div",115)(43,"div",124),u(44,"img",87),n(45,"small")(46,"strong")(47,"span"),l(48),a()()()()(),n(49,"div",115)(50,"div",124),u(51,"img",88),n(52,"small")(53,"strong")(54,"span"),l(55),a()()()()()()()()}if(t&2){let e=p().$implicit,r=p(6);o(6),z("",e.salutation.includes(".")?e.salutation:e.salutation+"."," ",e.EntityName,""),o(7),M(e.RegNo?"color : #4E9F3D;":""),o(),f(e.RegNo),o(6),f(E(21,19,e.AdmissionDate,"dd/MM/yy h:mm a")),o(7),M(e.IPDNO?"color : #D89216;":""),o(),f(e.IPDNO?e.IPDNO:"IPD_NO_NEED"),o(6),M(e.Bed?"color : #810CA8;":"color : #FF0000;"),o(),f(e.Bed?e.Bed:"Please Allocate Bed"),o(5),M(e.location?"color : #E2703A;":""),o(),f(e.location),o(2),R("pTooltip",e.ReferredBy.length>44?e.ReferredBy:""),o(5),f(r.wrapupExtraProcedureText(e.ReferredBy)||"No Referral Detail"),o(2),R("pTooltip",e.ProcAdviced.length>44?e.ProcAdviced:""),o(5),f(r.wrapupExtraProcedureText(e.ProcAdviced))}}function rn(t,d){if(t&1&&(v(0),h(1,on,56,22,"div",135),C()),t&2){let e=d.$implicit,r=p(3).$implicit,i=p(3);o(),c("ngIf",i.validFilterType(r,i.ipdFilterTypeList.filterKeyValue,e))}}function ln(t,d){if(t&1&&(n(0,"div",55)(1,"div",134)(2,"h5",110),l(3),x(4,"uppercase"),a()(),n(5,"div",6),h(6,rn,2,1,"ng-container",104),a()()),t&2){let e=p(2).$implicit,r=p(3);o(3),S(" ",D(4,2,e)," "),o(3),c("ngForOf",r.filteredIpdPatientList)}}function sn(t,d){if(t&1&&(v(0),h(1,ln,7,4,"div",105),C()),t&2){let e=p().$implicit,r=p(3);o(),c("ngIf",r.validSubFilter(e))}}function dn(t,d){if(t&1&&(v(0),h(1,sn,2,1,"ng-container",4),C()),t&2){let e=d.$implicit,r=p(3);o(),c("ngIf",r.validCount(e,r.ipdFilterTypeList.filterKeyValue))}}function cn(t,d){if(t&1&&(n(0,"div",78),h(1,dn,2,1,"ng-container",104),a()),t&2){let e=p(2);o(),c("ngForOf",e.ipdFilterTypeList.filterValueList)}}function pn(t,d){if(t&1){let e=I();v(0),n(1,"div",6)(2,"div",78)(3,"div",125)(4,"div",126),u(5,"img",127),n(6,"h4",100),l(7),a()(),n(8,"select",128),T("ngModelChange",function(i){_(e);let s=p();return w(s.selectedSubFilterType,i)||(s.selectedSubFilterType=i),g(i)}),b("change",function(){_(e);let i=p();return g(i.sortSelectedFilterTypeArrayDataByFilterType())}),n(9,"option",21),l(10,"All"),a(),h(11,tn,3,3,"option",22),a()()(),h(12,an,3,1,"div",129),n(13,"div",78)(14,"div",6)(15,"div",78),h(16,cn,2,1,"div",129),a()()()(),n(17,"div",130),b("click",function(){_(e);let i=p();return g(i.visibleFilterDialog=!i.visibleFilterDialog)}),n(18,"div",131),u(19,"img",132),a()(),C()}if(t&2){let e=p();o(7),S("IPD (",e.filteredIpdPatientList.length,")"),o(),P("ngModel",e.selectedSubFilterType),o(3),c("ngForOf",e.ipdFilterTypeList.filterValueList),o(),c("ngIf",!1),o(3),M(Se(7,Vi,e.screenHeight-100+"px")),o(),c("ngIf",e.ipdFilterTypeList.filterValueList.length)}}function mn(t,d){if(t&1){let e=I();n(0,"div",17)(1,"div",6)(2,"div",18)(3,"div",19)(4,"small")(5,"strong"),l(6,"From"),a()(),n(7,"input",74),T("ngModelChange",function(i){_(e);let s=p();return w(s.fromDate,i)||(s.fromDate=i),g(i)}),a()()(),n(8,"div",18)(9,"div",19)(10,"small")(11,"strong"),l(12,"To"),a()(),n(13,"input",74),T("ngModelChange",function(i){_(e);let s=p();return w(s.toDate,i)||(s.toDate=i),g(i)}),a()()()()()}if(t&2){let e=p();o(7),P("ngModel",e.fromDate),o(6),P("ngModel",e.toDate)}}function _n(t,d){if(t&1&&(n(0,"option",95),l(1),a()),t&2){let e=d.$implicit;R("value",e),o(),f(e)}}function gn(t,d){if(t&1&&(n(0,"option",95),l(1),a()),t&2){let e=d.$implicit;R("value",e),o(),f(e)}}function hn(t,d){t&1&&(n(0,"div",139)(1,"button",140)(2,"div",141),u(3,"i",142),n(4,"strong"),l(5,"Search"),a()()()())}function un(t,d){if(t&1&&(n(0,"div",6)(1,"div",78)(2,"div",143)(3,"small")(4,"strong"),l(5,"Patient Name"),a(),l(6),a(),n(7,"strong"),l(8),a()()(),n(9,"div",78)(10,"div",143)(11,"small")(12,"strong"),l(13,"UHID No"),a()(),n(14,"strong"),l(15),a()()(),n(16,"div",78)(17,"div",143)(18,"small")(19,"strong"),l(20,"Alloted Bed Location"),a()(),n(21,"strong"),l(22),a()()(),n(23,"div",78)(24,"div",143)(25,"small")(26,"strong"),l(27,"Addmission Date/Time"),a()(),n(28,"strong"),l(29),x(30,"date"),a()()(),n(31,"div",78)(32,"div",143)(33,"small")(34,"strong"),l(35,"Insurance"),a()(),n(36,"strong"),l(37),a()()()()),t&2){let e=p();o(6),S(" (",e.selectedIpdDetails.EntityId,")"),o(2),f(e.selectedIpdDetails.EntityName),o(7),f(e.selectedIpdDetails.RegNo),o(7),f(e.selectedIpdDetails.Location),o(7),f(E(30,6,e.selectedIpdDetails.EntryDate,"dd/MM/yyyy hh:mm a")),o(8),f(e.selectedIpdDetails.BillClass?e.selectedIpdDetails.BillClass:"")}}function fn(t,d){if(t&1){let e=I();n(0,"button",33),b("click",function(){_(e);let i=p();return g(i.showDoctorNotesHistoryForIpdPatientDialoge())}),n(1,"strong",34),u(2,"img",39),l(3," Doctor Notes "),a()()}}function yn(t,d){if(t&1){let e=I();n(0,"button",33),b("click",function(){_(e);let i=p();return g(i.showSisterNotesHistoryForIpdPatientDialoge())}),n(1,"strong",34),u(2,"img",39),l(3," Sister Notes "),a()()}}function vn(t,d){if(t&1&&(n(0,"p-tabView")(1,"p-tabPanel",144),u(2,"app-patient-details",145),a(),n(3,"p-tabPanel",146),u(4,"app-patient-admission",147),a(),u(5,"p-tabPanel",148),a()),t&2){let e=p();o(2),c("patientId",e.selectedIpdDetails.EntityId),o(2),c("patientId",e.selectedIpdDetails.EntityId)("appointmentId",e.selectedIpdDetails.AppointmentId)}}function Cn(t,d){if(t&1&&(n(0,"option",95),l(1),x(2,"uppercase"),a()),t&2){let e=d.$implicit;R("value",e),o(),f(D(2,2,e))}}function xn(t,d){if(t&1){let e=I();n(0,"div",150),b("click",function(){let i=_(e).$implicit,s=p(2);return s.pathReportDate=i.date,g(s.rediectToPathManagement(i))}),n(1,"div",141)(2,"strong",151),l(3),a(),n(4,"div",55)(5,"h3",60),l(6),x(7,"date"),a(),n(8,"strong")(9,"i")(10,"small"),l(11),x(12,"uppercase"),a()()()()()()}if(t&2){let e=d.$implicit,r=d.index,i=p(2);o(3),S(" ",r+1," "),o(3),f(E(7,3,e.DoneBy,"dd/MMM/yyyy")),o(5),S(" ",D(12,6,i.selectedIpdDetails.EntityName)," ")}}function bn(t,d){if(t&1&&(v(0),h(1,xn,13,8,"div",149),C()),t&2){let e=p();o(),c("ngForOf",e.pathReportList)}}function Sn(t,d){t&1&&(v(0),n(1,"div",152),u(2,"img",153),a(),C())}var te=class{constructor(){this.date="",this.dataArray=[]}};var et=(()=>{class t{constructor(e,r,i,s,y,m,it){this._ipdServices=e,this._addmissionService=r,this._patientService=i,this._dialogService=s,this._commonService=y,this._pathManagementServices=m,this._router=it,this.items=[],this.visibleFilterDialog=!1,this.visibleAdditionalOptionsDialog=!1,this.isCustomDate="0",this.item=[],this.home=null,this.isToday=0,this.floorList=[],this.roomTypeList=[],this.procedureList=[],this.doctorList=[],this.referralDoctorList=[],this.showMoreDetail=!1,this.showPathReportListDateWise=!1,this.ipdAddmittedPatientList=[],this.screenHeight=0,this.screenWidth=0,this.moreDetails=!1,this.selectedIpdDetails=null,this.filterTypeList=[],this.patientStatusTypeList=[],this.fromDate="",this.toDate="",this.patientStatus="All",this.selectedFilterType="Floor",this.searchedPatientList=[],this.isDirectSearch=!1,this.selectedFilterTypeArrayData=[],this.selectedSortingType="",this.selectedSubFilterType="",this.filteredIpdPatientList=[],this.showAlertPopup=!1,this.searchedPatientName="",this.ipdFilterTypeList=new ve,this.selectedFilterVal="",this.selectedIpdpatientDetails=null,this.selectedIpdAdmissionDetails=null,this.reasonForDischargePaitent="",this.pathLabId="critizone",this.pathReportList=[],this.pathReportDate="",this.pathReportDateWiseList=[],this.pathLabRegIdList=[]}ngDoCheck(){this.item}ngOnInit(){this._commonService.setHospitalSection("IPD Management"),G.hospitalSection="ipd",history.state.hospitalSection="ipd",this.item=[{label:this.patientStatus},{label:this.selectedFilterType},{label:this.selectedSortingType?this.selectedSortingType:"All"}],this.home={label:""};let e=new Date;e=this._commonService.trasformDateTimeByFormat()?.split("T")[0],!this.fromDate&&!this.toDate&&(this.fromDate=e,this.toDate=e),this.loadAddmittedPatientList(),this.loadReferralDoctorList(),this.loadPathRegId(),this.filterTypeList.push("Floor"),this.filterTypeList.push("Room Type"),this.filterTypeList.push("Procedure"),this.filterTypeList.push("Doctor"),this.filterTypeList.push("Referral Doctor"),this.patientStatusTypeList.push("Admitted"),this.patientStatusTypeList.push("Discharge"),this.screenHeight=G.screenHeight,this.screenWidth=G.screenWidth}updateBreadcrump1(){this.isCustomDate==="1"?(this.item[0].label="Today",this.fromDate=this._commonService.trasformDateTimeByFormat()?.split("T")[0].toString()||"",this.toDate=this._commonService.trasformDateTimeByFormat()?.split("T")[0].toString()||"",this.loadPatientListByPatientStatus()):this.isCustomDate==="2"?this.item[0].label="Custom":(this.item[0].label="All",this.isCustomDate,this.loadPatientListByPatientStatus())}resetFilters(){this.fromDate=this._commonService.trasformDateTimeByFormat()?.split("T")[0].toString()||"",this.toDate=this._commonService.trasformDateTimeByFormat()?.split("T")[0].toString()||"",this.isCustomDate="1",this.searchedPatientName="",this.loadPatientListByPatientStatus()}loadPatientList(e){(e||this.searchedPatientName)&&this._patientService.getPatientDetailsByPatientPatientName_IPD_Dashboard(e||this.searchedPatientName).subscribe(r=>{console.log("Serched Patient List =>",r),r.Status.toLowerCase().trim().includes("success")&&r.noofREcords&&(this.searchedPatientList=[],this.searchedPatientList=r.dataSet.Table,console.log("Searched =>",this.searchedPatientList))},r=>{console.error(r)})}loadAddmittedPatientList(){this._commonService.activeLoader(),this._ipdServices.getAddmittedPaitentListForIPD(Number(this.isCustomDate)>0?this.fromDate:"",Number(this.isCustomDate)>0?this.toDate:"").subscribe(e=>{console.log(e),this._commonService.deactiveLoader(),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.ipdAddmittedPatientList=[],this.ipdAddmittedPatientList=e.dataSet.Table,this.doctorList=[],this.doctorList=e.dataSet.Table1,e.dataSet.Table2.length&&(this.floorList=[],e.dataSet.Table2.forEach(r=>{this.floorList.push(r.Location)})),e.dataSet.Table3.length&&(this.roomTypeList=[],e.dataSet.Table3.forEach(r=>{this.roomTypeList.push(r.Description)})),e.dataSet.Table4.length&&(this.procedureList=[],e.dataSet.Table4.forEach(r=>{this.procedureList.push(r.procadviced)})),e.dataSet.Table5.length&&(this.referralDoctorList=[],e.dataSet.Table5.forEach(r=>{this.referralDoctorList.push(r.ListItem)})),this.filterIpdPatientListBySelectedSortingType(),console.log(this.ipdAddmittedPatientList),console.log(this.doctorList),console.log(this.floorList),console.log(this.procedureList),console.log(this.roomTypeList),console.log(this.referralDoctorList)),e.Status.toLowerCase().includes("success")&&!e.noofREcords&&(this.ipdAddmittedPatientList=[],this.sortSelectedFilterTypeArrayDataByFilterType(),console.log(this.ipdAddmittedPatientList))},e=>{console.error(e),this._commonService.deactiveLoader()})}loadPatientListByCustomDate(e){this._commonService.activeLoader(),this._ipdServices.getPaitentListForIPD(Number(this.isCustomDate)>0?this.fromDate:"",Number(this.isCustomDate)>0?this.toDate:"",e||0).subscribe(r=>{console.log(r),this._commonService.deactiveLoader(),r.Status.toLowerCase().includes("success")&&r.noofREcords&&(this.ipdAddmittedPatientList=[],this.filteredIpdPatientList=[],this.ipdAddmittedPatientList=r.dataSet.Table,this.doctorList=[],this.doctorList=r.dataSet.Table1,r.dataSet.Table2.length&&(this.floorList=[],r.dataSet.Table2.forEach(i=>{this.floorList.push(i.Location)})),r.dataSet.Table3.length&&(this.roomTypeList=[],r.dataSet.Table3.forEach(i=>{this.roomTypeList.push(i.Description)})),r.dataSet.Table4.length&&(this.procedureList=[],r.dataSet.Table4.forEach(i=>{this.procedureList.push(i.procadviced)})),r.dataSet.Table5.length&&(this.referralDoctorList=[],r.dataSet.Table5.forEach(i=>{this.referralDoctorList.push(i.ListItem)})),this.filterIpdPatientListBySelectedSortingType(),console.log(this.ipdAddmittedPatientList),console.log(this.doctorList),console.log(this.floorList),console.log(this.procedureList),console.log(this.roomTypeList),console.log(this.referralDoctorList)),r.Status.toLowerCase().includes("success")&&!r.noofREcords&&(this.ipdAddmittedPatientList=[],this.sortSelectedFilterTypeArrayDataByFilterType(),console.log(this.ipdAddmittedPatientList))},r=>{console.error(r),this._commonService.deactiveLoader()})}loadDischardedPatientList(){this._commonService.activeLoader(),this._ipdServices.getDischargedPaitentListForIPD(Number(this.isCustomDate)>0?this.fromDate:"",Number(this.isCustomDate)>0?this.toDate:"").subscribe(e=>{console.log(e),this._commonService.deactiveLoader(),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.ipdAddmittedPatientList=[],this.ipdAddmittedPatientList=e.dataSet.Table,this.filterIpdPatientListBySelectedSortingType(),console.log(this.ipdAddmittedPatientList)),e.Status.toLowerCase().includes("success")&&!e.noofREcords&&(this.ipdAddmittedPatientList=[],this.filterIpdPatientListBySelectedSortingType(),console.log(this.ipdAddmittedPatientList))},e=>{console.error(e),this._commonService.deactiveLoader()})}loadPatientListByPatientStatus(){debugger;this.item[1].label=this.patientStatus,this.patientStatus.toLowerCase().includes("admit")&&this.fromDate===this.toDate&&this.loadAddmittedPatientList(),this.patientStatus.toLowerCase().includes("discharge")&&this.fromDate===this.toDate&&this.loadDischardedPatientList(),(this.patientStatus.toLowerCase().includes("all")||this.fromDate!==this.toDate)&&(this.isCustomDate="2",this.loadPatientListByCustomDate()),this.isDirectSearch&&(this.isCustomDate="2",this.loadPatientListByCustomDate())}sortSelectedFilterTypeArrayDataByFilterType(){debugger;this._commonService.activeLoader(),setTimeout(()=>{if(this.filteredIpdPatientList=[],this.ipdAddmittedPatientList.length){let e=Object.keys(this.ipdAddmittedPatientList[0]),r=[];if(this.selectedSubFilterType||this.searchedPatientName){this.ipdAddmittedPatientList.forEach(i=>{i[this.ipdFilterTypeList.filterKeyValue].toLowerCase()===this.selectedSubFilterType.toLowerCase()&&!this.searchedPatientName&&r.push(i),i[this.ipdFilterTypeList.filterKeyValue].toLowerCase()===this.selectedSubFilterType.toLowerCase()&&i?.EntityName.trim().toLowerCase().includes(this.searchedPatientName.trim().toLowerCase())&&r.push(i),!this.selectedSubFilterType.toLowerCase()&&i?.EntityName.trim().toLowerCase().includes(this.searchedPatientName.trim().toLowerCase())&&r.push(i)});debugger;this.filteredIpdPatientList=r,!this.filteredIpdPatientList.length&&this.searchedPatientName&&(this.showAlertPopup=!0)}else this.filteredIpdPatientList=this.ipdAddmittedPatientList;this._commonService.deactiveLoader()}else this.filteredIpdPatientList=this.ipdAddmittedPatientList;this._commonService.deactiveLoader(),console.log("Filtered Patient =>",this.filteredIpdPatientList)},1e3)}setAndSearchPatientDetailByPatientName(e){this.searchedPatientName=e.toUpperCase(),this.searchedPatientList=[]}filterIpdPatientListBySelectedSortingType(){debugger;this.ipdFilterTypeList.filterValueList=[],this.selectedFilterType?(this.ipdFilterTypeList.filterType=this.selectedFilterType,this.selectedFilterType.toLowerCase()==="floor"&&(this.ipdFilterTypeList.filterValueList=this.floorList,this.ipdFilterTypeList.filterKeyValue="location",this.ipdFilterTypeList.filterValue="location"),this.selectedFilterType.toLowerCase()==="room type"&&(this.ipdFilterTypeList.filterValueList=this.roomTypeList,this.ipdFilterTypeList.filterKeyValue="BedType",this.ipdFilterTypeList.filterValue="Bed"),this.selectedFilterType.toLowerCase()==="procedure"&&(this.ipdFilterTypeList.filterValueList=this.procedureList,this.ipdFilterTypeList.filterKeyValue="ProcAdviced",this.ipdFilterTypeList.filterValue="ProcAdviced"),this.selectedFilterType.toLowerCase()==="doctor"&&(this.ipdFilterTypeList.filterValueList=this.doctorList.length?[]:[],this.doctorList.length&&this.doctorList.forEach(e=>{e.UserName&&this.ipdFilterTypeList.filterValueList.push(e.UserName)}),this.ipdFilterTypeList.filterKeyValue="Consultant",this.ipdFilterTypeList.filterValue="Doctor"),this.selectedFilterType.toLowerCase()==="referral doctor"&&(this.ipdFilterTypeList.filterValueList=this.referralDoctorList.length?[]:[],this.referralDoctorList.length&&this.referralDoctorList.forEach(e=>{e.ListItem&&this.ipdFilterTypeList.filterValueList.push(e.ListItem)}),this.ipdFilterTypeList.filterKeyValue="ReferredBy",this.ipdFilterTypeList.filterValue="referral doctor")):(this.ipdFilterTypeList.filterType=this.selectedFilterType,this.ipdFilterTypeList.filterValue="",this.ipdFilterTypeList.filterValueList=this.ipdAddmittedPatientList),console.log(this.ipdFilterTypeList),this.sortSelectedFilterTypeArrayDataByFilterType()}showDetailsOfIpdPatient(e){this.selectedIpdDetails=null,this.selectedIpdDetails=e,this.selectedIpdDetails?(this.loadPatientDetailByPatientId(),this.loadAdmissionDetailsByPatientIdAdmissionId()):alert("Please retry."),console.log(this.selectedIpdDetails)}showBedAllocationDialoge(){console.log(this.selectedIpdDetails);let e=this._dialogService.open(qe,{header:"Bed Allocation for "+this.selectedIpdDetails.EntityName.toUpperCase(),width:"60%",data:{admissionId:this.selectedIpdDetails.AppointmentId}})}showAdmissionHistoryForIpdPatientDialoge(){history.state.patientId=this.selectedIpdDetails?this.selectedIpdDetails.EntityId:0;let e=this._dialogService.open(ee,{header:"Admission History",width:"auto",data:{admissionId:this.selectedIpdDetails.AppointmentId,type:"discharge summary"}})}showDoctorNotesHistoryForIpdPatientDialoge(){history.state.patientId=this.selectedIpdDetails?this.selectedIpdDetails.EntityId:0;let e=this._dialogService.open(ee,{header:"Admission History",width:"auto",data:{admissionId:this.selectedIpdDetails.AppointmentId,type:"doctor notes"}})}showSisterNotesHistoryForIpdPatientDialoge(){history.state.patientId=this.selectedIpdDetails?this.selectedIpdDetails.EntityId:0;let e=this._dialogService.open(ee,{header:"Admission History",width:"auto",data:{admissionId:this.selectedIpdDetails.AppointmentId,type:"sister notes"}})}showBillDialoge(){let e=this._dialogService.open(Pe,{header:`Bill List - 
`+this.selectedIpdDetails.EntityName.toUpperCase(),width:this.validPlatform("iphone")?"100%":"50%",data:{ipdPatientDetail:this.selectedIpdDetails,billType:"ipd"}})}showPathBillDialoge(){let e=this._dialogService.open(Pe,{header:`Path Bill List - 
`+this.selectedIpdDetails.EntityName.toUpperCase(),width:this.validPlatform("iphone")?"100%":"50%",data:{ipdPatientDetail:this.selectedIpdDetails,billType:"path"}})}showPathTestDialoge(){if(this.selectedIpdDetails.EntityId){history.state.patientId=this.selectedIpdDetails.EntityId,history.state.caseDetail=this.selectedIpdDetails;let e=this._dialogService.open(ze,{header:`Path Test List - 
`+this.selectedIpdDetails.EntityName.toUpperCase(),width:this.validPlatform("iphone")?"100%":"50%",height:this.validPlatform("iphone")?"100%":"auto",data:{ipdPatientDetail:this.selectedIpdDetails,billType:"path"}})}}wrapupExtraProcedureText(e){let r="";if(e)if(e.length>40)for(let i=0;i<45;i++)i<=43?r=r+e[i]:r=r+"...";else r=e;return r}loadReferralDoctorList(){this._commonService.activeLoader(),this._commonService.getRefrralDoctorList().subscribe(e=>{console.log(e),this._commonService.deactiveLoader(),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.referralDoctorList=[],this.referralDoctorList=e.dataSet.Table)},e=>{this._commonService.deactiveLoader(),console.error(e)})}loadPatientDetailByPatientId(){this.selectedIpdDetails?this._patientService.getPatientDetailsByPatientId(this.selectedIpdDetails.EntityId).subscribe(e=>{console.log(e),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.selectedIpdpatientDetails=null,this.selectedIpdpatientDetails=e.dataSet.Table[0])},e=>{console.error(e),alert("Please check log, for more details.")}):alert("Please retry.")}loadAdmissionDetailsByPatientIdAdmissionId(){this.selectedIpdDetails?this._addmissionService.getAddmissionDetailsByAdmissionIdPatientId(this.selectedIpdDetails.EntityId,this.selectedIpdDetails.admissionid).subscribe(e=>{console.log(e),e.Status.toLowerCase().includes("success")&&e.noofREcords&&(this.selectedIpdAdmissionDetails=null,this.selectedIpdAdmissionDetails=e.dataSet.Table[0])},e=>{console.error(e),alert("Please check log, for more details.")}):alert("Please retry.")}validFilterType(e,r,i){return i[r].toLowerCase()===e.toLowerCase()}checkCount(e,r){if(this.ipdAddmittedPatientList.length){let i=0;return this.ipdAddmittedPatientList.forEach(s=>{s[r].toLowerCase()===e.toLowerCase()&&(i=i+1)}),i}else return 0}validCount(e,r){debugger;if(this.filteredIpdPatientList.length){let i=0;this.filteredIpdPatientList.forEach(s=>{s&&s[r].toLowerCase()===e.toLowerCase()&&(i=i+1)});debugger;return!!i}else return!1}validSubFilter(e){return e.toLowerCase()===this.selectedSubFilterType.toLowerCase()||!this.selectedSubFilterType}return_PatientStatus(e){let r="";return e&&(e.AdmissionDate&&e.DischargeDate?r="Discharged":e.AdmissionDate&&!e.DischargeDate?r="Admitted":r=""),r}validPlatform(e){return this._commonService.checkPlatform(e)}loadPatReportListByPatientIdPathId(){this._pathManagementServices.getPathReportListByPatientIdPathId(this.pathLabId,this.selectedIpdDetails.EntityId).subscribe(e=>{if(console.log(e),e.Status.toLowerCase()==="success"&&e.noofREcords){this.pathReportDateWiseList=[];let r=e.dataSet.Table,i=new te;r.forEach(s=>{debugger;let y=s.RequestDate||"";y&&(i.date||(i.date=this._commonService.trasformDateTimeByFormat("yyyy-MM-dd",y)||""),this.pathReportDateWiseList.length?i.date&&(i.date===this._commonService.trasformDateTimeByFormat("yyyy-MM-dd",s.RequestDate)?i.dataArray.push(s):i.dataArray.length&&(this.pathReportDateWiseList.push(i),i=new te)):i.date&&!i.dataArray.length?i.dataArray.push(s):i.date&&(i.date===this._commonService.trasformDateTimeByFormat("yyyy-MM-dd",s.RequestDate)?i.dataArray.push(s):i.dataArray.length&&(this.pathReportDateWiseList.push(i),i=new te)))})}console.log(this.pathReportDateWiseList)},e=>{console.error(e),alert("Please check log, for more details.")})}loadPathRegId(){this._pathManagementServices.getPathRegIdList().subscribe(e=>{if(e.Status.toLowerCase().includes("success")&&e.noofREcords){let r=e.dataSet.Table||[];r.length&&(this.pathLabRegIdList=[],r.forEach(i=>{i.Value&&this.pathLabRegIdList.push(i.Value)}),this.pathLabId=this.pathLabRegIdList[0])}},e=>{console.error(e)})}loadPathReportListByPathIdAndPatientIdDate(){this._pathManagementServices.getPathReportListByPathIdPatientId(this.pathReportDate,this.pathLabId,this.selectedIpdDetails.EntityId).subscribe(e=>{console.log(e),e.Status.toLowerCase()==="success"&&e.noofREcords&&(this.pathReportList=[],this.pathReportList=e.dataSet.Table)},e=>{console.error(e)})}rediectToPathManagement(e){this._router.navigate(["feature/ipd/path-summary"],{queryParams:{patientId:this.selectedIpdDetails.EntityId,pathAppId:e.AppointmentId,pathLabId:e.pathlabid}})}setWidthBasedOnDevice(){return this.validPlatform("iphone")||this.validPlatform("ipad")||this.validPlatform("android")?"100rem":"30rem"}validRole_ShowDoctorSisterNotes_Btn(e){let r=this._commonService.getCurrentSessionUserRole()||"";return!!(e&&r&&r.toLowerCase().includes(e))}showCombinedPatientSearchDetail(e){this._dialogService.open(Ge,{header:e?.EntityName.toUpperCase()+" - Hospital History",width:"60vw",data:{patientId:e?.EntityId||0,patientName:e?.EntityName||""}}).onClose.subscribe(i=>{console.log("Dialoge Closed =>",i),i&&(this.fromDate=i.date,this.toDate=i.date,this.searchedPatientName=i.patientName,this.isCustomDate="2",this.loadPatientListByCustomDate(i.patientId))})}static{this.\u0275fac=function(r){return new(r||t)(L(Je),L(he),L(Z),L(K),L(F),L(ue),L(X))}}static{this.\u0275cmp=k({type:t,selectors:[["app-dashboard"]],standalone:!1,decls:162,vars:74,consts:[["op",""],["dischargePatient",""],["pathTestReportList",""],["class","m-0 p-0",4,"ngIf"],[4,"ngIf"],["header","Filter",3,"visibleChange","modal","visible","breakpoints","maximizable"],[1,"row"],[1,"col-12","p-2","mt-2"],[1,"d-flex","justify-content-around","align-items-center","gap-2","h-100"],[1,"d-flex","flex-row","align-items-center"],["name","pizza","value","0","inputId","dateSearch0",3,"ngModelChange","onClick","ngModel"],["for","dateSearch0",1,"ml-2"],["name","pizza","value","1","inputId","dateSearch1",3,"ngModelChange","onClick","ngModel"],["for","dateSearch1",1,"ml-2"],["name","pizza","value","2","inputId","dateSearch2",3,"ngModelChange","onClick","ngModel"],["for","dateSearch2",1,"ml-2"],["class","col-12 p-2",4,"ngIf"],[1,"col-12","p-2"],[1,"col-6"],[1,"d-flex","flex-column","gap-1"],["name","","id","",1,"form-select","form-select-sm",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","col-12 text-end",4,"ngIf"],[3,"visibleChange","modal","visible","breakpoints","maximizable"],[1,"d-flex","justify-content-around"],[1,"d-flex","flex-row","gap-1","align-items-center"],["name","pizza","value","false","inputId","dateSearch1",3,"ngModelChange","ngModel"],["name","pizza","value","true","inputId","dateSearch2",3,"ngModelChange","ngModel"],["type","date","name","","id","",1,"form-control"],["header","More Details","position","bottom",3,"visibleChange","modal","visible"],["class","row",4,"ngIf"],[1,"flex","flex-wrap","gap-1",2,"max-width","500px !important"],["type","button",1,"btn","p-button","p-button-raised","btn-info",2,"width","49%",3,"click"],[1,"flex","flex-row","justify-content-center","gap-2"],["src","assets/images/details.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/bills.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/path_ipd_icon.png","height","20px","alt","","srcset","",2,"color","white"],["type","button","class","btn p-button p-button-raised btn-info","style","width: 49%;",3,"click",4,"ngIf"],["src","assets/images/discharge_summary.png","height","20px","alt","","srcset","",2,"color","white"],["type","button",1,"btn","p-button","p-button-raised","btn-info",2,"width","49%"],["src","assets/images/discharge_patient.png","height","20px","alt","","srcset","",2,"color","white"],["position","bottom",3,"visibleChange","header","modal","visible"],["header","Path Report List Date Wise","position","bottom",3,"visibleChange","modal","visible"],[1,"d-flex","flex-column","mt-2",2,"width","100%","max-height","50dvh !important"],[1,"d-flex","flex-row","justify-content-end","align-items-end","gap-1"],[1,"d-flex","flex-row","align-items-center","gap-2"],["name","","id","",1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],[1,"d-flex","flex-column","gap-2","mt-2"],["header","Searched Patient",3,"visibleChange","modal","visible","position"],[1,"d-flex","flex-column","justify-content-center","gap-1","text-center","w-100"],[1,"d-flex","text-center","justify-content-center","w-100"],["src","assets/images/patient_detail_alert.gif","height","150px","width","150px","alt","","srcset",""],[2,"color","red"],[1,"d-flex","flex-row","justify-content-around","gap-2","w-100"],[1,"d-flex","flex-column"],["type","date",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"flex","justify-content-end","gap-2","mt-2"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"m-0","p-0"],[1,"d-flex","flex-row"],[1,"p-2",2,"width","15% !important"],[1,"d-flex","flex-row","gap-2","justify-content-center"],["src","assets/images/available-bed.png","height","50px","alt",""],[1,"w-100","d-flex","justify-content-center","text-center","mb-2",2,"margin-top","-4% !important"],[1,"d-flex","flex-row","gap-2"],[1,"d-flex","flex-column","mb-2"],[1,"max-w-full",3,"model"],["pTemplate","item"],["name","","id","",1,"form-select",3,"ngModelChange","ngModel"],["value","All"],["name","","id","",1,"form-select",3,"ngModelChange","change","ngModel"],["class","d-flex flex-column mb-2",4,"ngIf"],["type","date","name","","id","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-sm","btn-success","w-100",3,"click"],[2,"width","85% !important"],[1,"row","m-0"],[1,"col-12"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-wrap","gap-2"],[1,"d-flex","flex-wrap","align-items-center","gap-1"],["src","assets/images/location.png","height","20px","alt","","srcset","",2,"color","white"],[1,"vertical-line"],["src","assets/images/hospital-bed.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/calender-icon.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/clock.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/referredBy.png","height","20px","alt","","srcset","",2,"color","white"],["src","assets/images/treatment_for.png","height","20px","alt","","srcset","",2,"color","white"],[1,"d-flex","flex-column",2,"position","relative !important"],["list","searchedPatientList_1","type","text","placeholder","Search patient name here...",1,"form-control","rounded-0","searchPatientNameEleStyle",2,"min-width","30vw","font-weight","700",3,"ngModelChange","keyup","ngModel"],["class","bi bi-x-circle-fill","style","position: absolute; top: 0; right: 2%; font-size: 1.5rem; color: red !important;",3,"click",4,"ngIf"],["class","col-12","style","overflow-y: auto; max-height: 90vh; position: relative;",4,"ngIf"],[1,"p-menuitem-link"],[1,"text-primary","font-semibold"],[3,"value"],[1,"bi","bi-x-circle-fill",2,"position","absolute","top","0","right","2%","font-size","1.5rem","color","red !important",3,"click"],[1,"card","border-0","shadow-lg","p-1","m-0",2,"position","absolute","top","100%","right","0","max-height","500px","min-width","100%","overflow-y","auto","z-index","10000"],["class","text-nowrap p-1 row-hover-effect",3,"click",4,"ngFor","ngForOf"],[1,"text-nowrap","p-1","row-hover-effect",3,"click"],[1,"p-0","m-0"],[1,"p-0","m-0",2,"margin-top","0% !important"],[1,"p-0","m-0",2,"color","red"],[1,"col-12",2,"overflow-y","auto","max-height","90vh","position","relative"],[4,"ngFor","ngForOf"],["class","d-flex flex-column",4,"ngIf"],["class","card border-0 shadow-lg p-2 mb-3",4,"ngIf"],[1,"card","border-0","shadow-lg","p-2","mb-3"],[1,"row","main-head"],[1,"col-12","rounded-5","pr-2","pl-2","sub-head",2,"background-color","#4C3BCF","color","white","position","sticky","top","0","z-index","100"],[1,"p-1","m-0"],[1,"col-12","col-md-4","col-lg-3","col-xl-3"],[1,"card","rounded-1","shadow-lg","p-2","card-bg","mb-2",2,"position","relative !important",3,"click"],[2,"position","absolute","bottom","0","right","0","padding-top","5px !important","padding-bottom","5px !important","padding-left","10px !important","padding-right","10px !important","border-top-left-radius","25px !important"],[1,"d-flex","flex-wrap"],[1,"flex","justify-content-between"],[1,"d-flex","flex-wrap","gap-1"],[1,"d-flex","flex-wrap","align-items-center"],["pTooltip","Floor"],["pTooltip","Admission Date",1,"d-flex","flex-wrap","align-items-center"],["src","assets/images/addmission_date_time.png","height","20px","alt","","srcset","",2,"color","white"],["pTooltip","Admission Time",1,"d-flex","flex-wrap","align-items-center"],["pTooltip","Bed"],[1,"d-flex","flex-wrap","gap-1",3,"pTooltip"],[1,"d-flex","flex-wrap","gap-2",3,"pTooltip"],[1,"d-flex","justify-content-between","w-100","pr-2","pl-2"],[1,"d-flex","flex-row","gap-1","align-items-center","h-100","gap-2"],["src","assets/images/available-bed-1.png","height","35px","alt","","srcset",""],["name","","id","",1,"form-select","form-select-sm",2,"max-width","150px",3,"ngModelChange","change","ngModel"],["class","col-12",4,"ngIf"],[1,"floatable-filter-icon",3,"click"],[1,"card","rounded-5","p-2","shadow-lg"],["src","assets/images/filter.png","height","50 px","alt","","srcset",""],[1,"d-flex","justify-content-between","w-100"],[1,"col-12","rounded-1","pr-2","pl-2",2,"background-color","#4C3BCF","color","white","position","sticky","top","0","z-index","100"],["class","col-12 col-md-6 col-lg-3 col-xl-3",4,"ngIf"],[1,"col-12","col-md-6","col-lg-3","col-xl-3"],[1,"card","rounded-1","shadow-lg","p-2","card-bg",3,"click"],["pTooltip","Admission Date"],[1,"col-12","text-end"],["type","button",1,"btn","btn-success"],[1,"d-flex","flex-row","gap-1"],[1,"bi","bi-search"],[1,"flex","flex-column"],["header","Patient Detail"],[3,"patientId"],["header","Admission Detail"],[3,"patientId","appointmentId"],["header","Appointment List"],["class","card border-2 rounded-3 shadow-lg p-2 path-report-date-wise-card-bg-color",3,"click",4,"ngFor","ngForOf"],[1,"card","border-2","rounded-3","shadow-lg","p-2","path-report-date-wise-card-bg-color",3,"click"],[1,"d-flex","align-items-center","p-2"],[1,"d-flex","justify-content-center","text-center","p-2",2,"width","100%"],["src","assets/images/no-data.png","height","200px","alt","","srcset",""]],template:function(r,i){if(r&1){let s=I();h(0,en,97,13,"ng-container",3)(1,pn,20,9,"ng-container",4),n(2,"p-dialog",5),T("visibleChange",function(m){return _(s),w(i.visibleFilterDialog,m)||(i.visibleFilterDialog=m),g(m)}),n(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"p-radioButton",10),T("ngModelChange",function(m){return _(s),w(i.isCustomDate,m)||(i.isCustomDate=m),g(m)}),b("onClick",function(){return _(s),g(i.updateBreadcrump1())}),a(),n(8,"label",11),l(9," All "),a()(),n(10,"div",9)(11,"p-radioButton",12),T("ngModelChange",function(m){return _(s),w(i.isCustomDate,m)||(i.isCustomDate=m),g(m)}),b("onClick",function(){return _(s),g(i.updateBreadcrump1())}),a(),n(12,"label",13),l(13," Current Date "),a()(),n(14,"div",9)(15,"p-radioButton",14),T("ngModelChange",function(m){return _(s),w(i.isCustomDate,m)||(i.isCustomDate=m),g(m)}),b("onClick",function(){return _(s),g(i.updateBreadcrump1())}),a(),n(16,"label",15),l(17," Custom Date "),a()()()(),h(18,mn,14,2,"div",16),n(19,"div",17)(20,"div",6)(21,"div",18)(22,"div",19)(23,"small")(24,"strong"),l(25,"Filter Type"),a()(),n(26,"select",20),T("ngModelChange",function(m){return _(s),w(i.selectedFilterType,m)||(i.selectedFilterType=m),g(m)}),b("change",function(){return _(s),g(i.filterIpdPatientListBySelectedSortingType())}),n(27,"option",21),l(28,"Select Option"),a(),h(29,_n,2,2,"option",22),a()()(),n(30,"div",18)(31,"div",19)(32,"small")(33,"strong"),l(34,"Patient Status"),a()(),n(35,"select",20),T("ngModelChange",function(m){return _(s),w(i.patientStatus,m)||(i.patientStatus=m),g(m)}),b("change",function(){return _(s),g(i.loadPatientListByPatientStatus())}),n(36,"option",21),l(37,"Select Option"),a(),h(38,gn,2,2,"option",22),a()()()()(),h(39,hn,6,0,"div",23),a()(),n(40,"p-dialog",24),T("visibleChange",function(m){return _(s),w(i.visibleAdditionalOptionsDialog,m)||(i.visibleAdditionalOptionsDialog=m),g(m)}),n(41,"div",6)(42,"div",17)(43,"div",25)(44,"div",26)(45,"p-radioButton",27),T("ngModelChange",function(m){return _(s),w(i.isCustomDate,m)||(i.isCustomDate=m),g(m)}),a(),n(46,"label",13),l(47," Current Date "),a()(),n(48,"div",26)(49,"p-radioButton",28),T("ngModelChange",function(m){return _(s),w(i.isCustomDate,m)||(i.isCustomDate=m),g(m)}),a(),n(50,"label",15),l(51," Custom Date "),a()()()(),n(52,"div",17)(53,"div",6)(54,"div",18)(55,"div",19)(56,"small")(57,"strong"),l(58,"From"),a()(),u(59,"input",29),a()(),n(60,"div",18)(61,"div",19)(62,"small")(63,"strong"),l(64,"To"),a()(),u(65,"input",29),a()()()()()(),n(66,"p-dialog",30),T("visibleChange",function(m){return _(s),w(i.moreDetails,m)||(i.moreDetails=m),g(m)}),h(67,un,38,9,"div",31),a(),n(68,"p-overlayPanel",null,0)(70,"div",32)(71,"button",33),b("click",function(){return _(s),g(i.showMoreDetail=!i.showMoreDetail)}),n(72,"strong",34),u(73,"img",35),l(74," Details "),a()(),n(75,"button",33),b("click",function(){return _(s),g(i.showBillDialoge())}),n(76,"strong",34),u(77,"img",36),l(78," Hospital Bill "),a()(),n(79,"button",33),b("click",function(){return _(s),g(i.showPathBillDialoge())}),n(80,"strong",34),u(81,"img",36),l(82," Path Bills "),a()(),n(83,"button",33),b("click",function(){return _(s),g(i.showPathTestDialoge())}),n(84,"strong",34),u(85,"img",37),l(86," Add Path Tests "),a()(),n(87,"button",33),b("click",function(){return _(s),i.showPathReportListDateWise=!i.showPathReportListDateWise,i.loadPatReportListByPatientIdPathId(),g(i.loadPathReportListByPathIdAndPatientIdDate())}),n(88,"strong",34),u(89,"img",37),l(90," Path Test Summary "),a()(),h(91,fn,4,0,"button",38)(92,yn,4,0,"button",38),n(93,"button",33),b("click",function(){return _(s),g(i.showAdmissionHistoryForIpdPatientDialoge())}),n(94,"strong",34),u(95,"img",39),l(96," Dicharge Summary "),a()(),n(97,"button",40)(98,"strong",34),u(99,"img",41),l(100," Discharge Patient "),a()()()(),n(101,"p-dialog",42),T("visibleChange",function(m){return _(s),w(i.showMoreDetail,m)||(i.showMoreDetail=m),g(m)}),h(102,vn,6,3,"p-tabView",4),a(),u(103,"p-overlayPanel",null,1)(105,"p-overlayPanel",null,2),n(107,"p-dialog",43),T("visibleChange",function(m){return _(s),w(i.showPathReportListDateWise,m)||(i.showPathReportListDateWise=m),g(m)}),n(108,"div",44)(109,"div",45)(110,"div",46)(111,"strong")(112,"small"),l(113,"Pathalogy: "),a()(),n(114,"select",47),T("ngModelChange",function(m){return _(s),w(i.pathLabId,m)||(i.pathLabId=m),g(m)}),h(115,Cn,3,4,"option",22),a()()(),n(116,"div",48),h(117,bn,2,1,"ng-container",4)(118,Sn,3,0,"ng-container",4),a()()(),n(119,"p-dialog",49),T("visibleChange",function(m){return _(s),w(i.showAlertPopup,m)||(i.showAlertPopup=m),g(m)}),n(120,"div",50)(121,"div",51),u(122,"img",52),a(),n(123,"strong"),l(124,"Your searched patient, "),u(125,"br"),l(126),x(127,"uppercase"),u(128,"br"),l(129," is not available in between "),u(130,"br"),n(131,"span",53)(132,"i"),l(133),x(134,"date"),a()(),l(135," to "),n(136,"span",53)(137,"i"),l(138),x(139,"date"),a()()(),u(140,"hr"),n(141,"strong"),l(142," Do you like to search for some other date? "),a(),n(143,"div",54)(144,"div",55)(145,"small")(146,"strong"),l(147," From Date "),a()(),n(148,"input",56),T("ngModelChange",function(m){return _(s),w(i.fromDate,m)||(i.fromDate=m),g(m)}),a()(),n(149,"div",55)(150,"small")(151,"strong"),l(152," to Date "),a()(),n(153,"input",56),T("ngModelChange",function(m){return _(s),w(i.toDate,m)||(i.toDate=m),g(m)}),a()()()(),u(154,"hr"),n(155,"div",57)(156,"button",58),b("click",function(){return _(s),i.showAlertPopup=!1,i.searchedPatientName="",g(i.loadPatientListByPatientStatus())}),n(157,"strong"),l(158," Cancel "),a()(),n(159,"button",59),b("click",function(){return _(s),i.showAlertPopup=!1,g(i.loadPatientListByPatientStatus())}),n(160,"strong"),l(161," Search Patient "),a()()()()}r&2&&(c("ngIf",i.validPlatform("mac")||i.validPlatform("window")),o(),c("ngIf",i.validPlatform("iphone")||i.validPlatform("ipad")||i.validPlatform("andriod")),o(),M(W(65,Xe)),c("modal",!0),P("visible",i.visibleFilterDialog),c("breakpoints",W(66,Ze))("maximizable",!0),o(5),P("ngModel",i.isCustomDate),o(4),P("ngModel",i.isCustomDate),o(4),P("ngModel",i.isCustomDate),o(3),c("ngIf",i.isCustomDate.toLowerCase().includes("2")),o(8),P("ngModel",i.selectedFilterType),o(3),c("ngForOf",i.filterTypeList),o(6),P("ngModel",i.patientStatus),o(3),c("ngForOf",i.patientStatusTypeList),o(),c("ngIf",i.isCustomDate.toLowerCase().includes("2")),o(),M(W(67,Xe)),c("modal",!0),P("visible",i.visibleAdditionalOptionsDialog),c("breakpoints",W(68,Ze))("maximizable",!0),o(5),P("ngModel",i.isCustomDate),o(4),P("ngModel",i.isCustomDate),o(17),M(W(69,Qe)),c("modal",!0),P("visible",i.moreDetails),o(),c("ngIf",i.selectedIpdDetails),o(24),c("ngIf",i.validRole_ShowDoctorSisterNotes_Btn("doctor")),o(),c("ngIf",i.validRole_ShowDoctorSisterNotes_Btn("sister")),o(9),M(W(70,Ni)),Me("header","More Options - ",i.selectedIpdDetails?i.selectedIpdDetails.PatientName:"",""),c("modal",!0),P("visible",i.showMoreDetail),o(),c("ngIf",i.selectedIpdDetails),o(5),M(Se(71,Fi,i.setWidthBasedOnDevice())),c("modal",!0),P("visible",i.showPathReportListDateWise),o(7),P("ngModel",i.pathLabId),o(),c("ngForOf",i.pathLabRegIdList),o(2),c("ngIf",i.pathReportList.length),o(),c("ngIf",!i.pathReportList.length),o(),M(W(73,Qe)),c("modal",!0),P("visible",i.showAlertPopup),c("position","center"),o(7),S(" ",D(127,57,i.searchedPatientName)," "),o(7),f(E(134,59,i.fromDate,"dd-MMM-yyyy")),o(5),f(E(139,62,i.toDate,"dd-MMM-yyyy")),o(10),P("ngModel",i.fromDate),o(5),P("ngModel",i.toDate))},dependencies:[O,j,pe,me,We,Oe,Y,He,ge,_e,de,ce,oe,se,re,le,fe,ye,H,q],styles:["[_nghost-%COMP%]     .p-slidemenu-content ul{padding:0;margin:0}[_nghost-%COMP%]     .p-menuitem-link{width:100%}[_nghost-%COMP%]   [_ngcontent-%COMP%]:ng-deep   .p-slidemenu[_ngcontent-%COMP%] > .p-slidemenu-wrapper[_ngcontent-%COMP%]{width:100%!important}a[_ngcontent-%COMP%]{text-decoration:none!important}[_nghost-%COMP%]     .p-menuitem-text{text-decoration:none!important}.card-bg[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#d5dee7,#e8ebf2,#e2e7ed),linear-gradient(to bottom,#00000005 50%,#ffffff05 61%,#00000005 73%),linear-gradient(33deg,#fff3,#0003);background-blend-mode:normal,color-burn;border:3px dotted linear-gradient(-45deg,#FFC796 0%,#FF6B95 100%)!important;color:#000;cursor:pointer}.card-bg[_ngcontent-%COMP%]:hover{background-color:#0093e9;background-image:linear-gradient(160deg,#0093e9,#80d0c7);border:3px dotted linear-gradient(-45deg,#FFC796 0%,#FF6B95 100%)!important;color:#fff!important;transition:.3s ease-in-out}.card-bg[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff!important;transition:.3s ease-in-out}.bg-amount[_ngcontent-%COMP%]{background-image:linear-gradient(to top,#209cff,#68e0cf)}[_nghost-%COMP%]     .p-breadcrumb .p-breadcrumb-list{padding:.2rem!important;display:flex;height:100%;flex-wrap:wrap!important}[_nghost-%COMP%]     .p-breadcrumb{padding:.2rem!important;display:flex;height:100%!important;flex-wrap:wrap!important}.vertical-line[_ngcontent-%COMP%]{border:3px solid #03AED2}[_nghost-%COMP%]     ol{padding:0;margin:0}.main-head[_ngcontent-%COMP%]:hover   .sub-head[_ngcontent-%COMP%]{background-color:#5ab2ff!important;color:#fff!important;transition:.3s ease-in-out;padding-left:50px!important}.sub-head[_ngcontent-%COMP%]{background-color:#4c3bcf;color:#fff;visibility:visible!important}[_nghost-%COMP%]     .p-dialog .p-dialog-header{padding:.5rem!important}.row-hover-effect[_ngcontent-%COMP%]:hover{background-color:#b7b1f2!important;cursor:pointer;list-style:none!important}.searchPatientNameEleStyle[_ngcontent-%COMP%]{border:none!important}.searchPatientNameEleStyle[_ngcontent-%COMP%]{border-bottom:2px solid #3674B5!important}.searchPatientNameEleStyle[_ngcontent-%COMP%]:focus{border-bottom:2px solid #FA7070!important}"]})}}return t})();var Dn=[{path:"",component:et,pathMatch:"full"}],tt=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ne({type:t})}static{this.\u0275inj=ie({imports:[De.forChild(Dn),De]})}}return t})();var Pa=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ne({type:t})}static{this.\u0275inj=ie({providers:[K,N],imports:[U,tt,V,$,fe,ye]})}}return t})();export{Pa as DashboardModule};
